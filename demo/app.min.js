(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (global){
/*! https://mths.be/punycode v1.4.1 by @mathias */
;(function(root) {

	/** Detect free variables */
	var freeExports = typeof exports == 'object' && exports &&
		!exports.nodeType && exports;
	var freeModule = typeof module == 'object' && module &&
		!module.nodeType && module;
	var freeGlobal = typeof global == 'object' && global;
	if (
		freeGlobal.global === freeGlobal ||
		freeGlobal.window === freeGlobal ||
		freeGlobal.self === freeGlobal
	) {
		root = freeGlobal;
	}

	/**
	 * The `punycode` object.
	 * @name punycode
	 * @type Object
	 */
	var punycode,

	/** Highest positive signed 32-bit float value */
	maxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1

	/** Bootstring parameters */
	base = 36,
	tMin = 1,
	tMax = 26,
	skew = 38,
	damp = 700,
	initialBias = 72,
	initialN = 128, // 0x80
	delimiter = '-', // '\x2D'

	/** Regular expressions */
	regexPunycode = /^xn--/,
	regexNonASCII = /[^\x20-\x7E]/, // unprintable ASCII chars + non-ASCII chars
	regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g, // RFC 3490 separators

	/** Error messages */
	errors = {
		'overflow': 'Overflow: input needs wider integers to process',
		'not-basic': 'Illegal input >= 0x80 (not a basic code point)',
		'invalid-input': 'Invalid input'
	},

	/** Convenience shortcuts */
	baseMinusTMin = base - tMin,
	floor = Math.floor,
	stringFromCharCode = String.fromCharCode,

	/** Temporary variable */
	key;

	/*--------------------------------------------------------------------------*/

	/**
	 * A generic error utility function.
	 * @private
	 * @param {String} type The error type.
	 * @returns {Error} Throws a `RangeError` with the applicable error message.
	 */
	function error(type) {
		throw new RangeError(errors[type]);
	}

	/**
	 * A generic `Array#map` utility function.
	 * @private
	 * @param {Array} array The array to iterate over.
	 * @param {Function} callback The function that gets called for every array
	 * item.
	 * @returns {Array} A new array of values returned by the callback function.
	 */
	function map(array, fn) {
		var length = array.length;
		var result = [];
		while (length--) {
			result[length] = fn(array[length]);
		}
		return result;
	}

	/**
	 * A simple `Array#map`-like wrapper to work with domain name strings or email
	 * addresses.
	 * @private
	 * @param {String} domain The domain name or email address.
	 * @param {Function} callback The function that gets called for every
	 * character.
	 * @returns {Array} A new string of characters returned by the callback
	 * function.
	 */
	function mapDomain(string, fn) {
		var parts = string.split('@');
		var result = '';
		if (parts.length > 1) {
			// In email addresses, only the domain name should be punycoded. Leave
			// the local part (i.e. everything up to `@`) intact.
			result = parts[0] + '@';
			string = parts[1];
		}
		// Avoid `split(regex)` for IE8 compatibility. See #17.
		string = string.replace(regexSeparators, '\x2E');
		var labels = string.split('.');
		var encoded = map(labels, fn).join('.');
		return result + encoded;
	}

	/**
	 * Creates an array containing the numeric code points of each Unicode
	 * character in the string. While JavaScript uses UCS-2 internally,
	 * this function will convert a pair of surrogate halves (each of which
	 * UCS-2 exposes as separate characters) into a single code point,
	 * matching UTF-16.
	 * @see `punycode.ucs2.encode`
	 * @see <https://mathiasbynens.be/notes/javascript-encoding>
	 * @memberOf punycode.ucs2
	 * @name decode
	 * @param {String} string The Unicode input string (UCS-2).
	 * @returns {Array} The new array of code points.
	 */
	function ucs2decode(string) {
		var output = [],
		    counter = 0,
		    length = string.length,
		    value,
		    extra;
		while (counter < length) {
			value = string.charCodeAt(counter++);
			if (value >= 0xD800 && value <= 0xDBFF && counter < length) {
				// high surrogate, and there is a next character
				extra = string.charCodeAt(counter++);
				if ((extra & 0xFC00) == 0xDC00) { // low surrogate
					output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);
				} else {
					// unmatched surrogate; only append this code unit, in case the next
					// code unit is the high surrogate of a surrogate pair
					output.push(value);
					counter--;
				}
			} else {
				output.push(value);
			}
		}
		return output;
	}

	/**
	 * Creates a string based on an array of numeric code points.
	 * @see `punycode.ucs2.decode`
	 * @memberOf punycode.ucs2
	 * @name encode
	 * @param {Array} codePoints The array of numeric code points.
	 * @returns {String} The new Unicode string (UCS-2).
	 */
	function ucs2encode(array) {
		return map(array, function(value) {
			var output = '';
			if (value > 0xFFFF) {
				value -= 0x10000;
				output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);
				value = 0xDC00 | value & 0x3FF;
			}
			output += stringFromCharCode(value);
			return output;
		}).join('');
	}

	/**
	 * Converts a basic code point into a digit/integer.
	 * @see `digitToBasic()`
	 * @private
	 * @param {Number} codePoint The basic numeric code point value.
	 * @returns {Number} The numeric value of a basic code point (for use in
	 * representing integers) in the range `0` to `base - 1`, or `base` if
	 * the code point does not represent a value.
	 */
	function basicToDigit(codePoint) {
		if (codePoint - 48 < 10) {
			return codePoint - 22;
		}
		if (codePoint - 65 < 26) {
			return codePoint - 65;
		}
		if (codePoint - 97 < 26) {
			return codePoint - 97;
		}
		return base;
	}

	/**
	 * Converts a digit/integer into a basic code point.
	 * @see `basicToDigit()`
	 * @private
	 * @param {Number} digit The numeric value of a basic code point.
	 * @returns {Number} The basic code point whose value (when used for
	 * representing integers) is `digit`, which needs to be in the range
	 * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is
	 * used; else, the lowercase form is used. The behavior is undefined
	 * if `flag` is non-zero and `digit` has no uppercase form.
	 */
	function digitToBasic(digit, flag) {
		//  0..25 map to ASCII a..z or A..Z
		// 26..35 map to ASCII 0..9
		return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
	}

	/**
	 * Bias adaptation function as per section 3.4 of RFC 3492.
	 * https://tools.ietf.org/html/rfc3492#section-3.4
	 * @private
	 */
	function adapt(delta, numPoints, firstTime) {
		var k = 0;
		delta = firstTime ? floor(delta / damp) : delta >> 1;
		delta += floor(delta / numPoints);
		for (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {
			delta = floor(delta / baseMinusTMin);
		}
		return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
	}

	/**
	 * Converts a Punycode string of ASCII-only symbols to a string of Unicode
	 * symbols.
	 * @memberOf punycode
	 * @param {String} input The Punycode string of ASCII-only symbols.
	 * @returns {String} The resulting string of Unicode symbols.
	 */
	function decode(input) {
		// Don't use UCS-2
		var output = [],
		    inputLength = input.length,
		    out,
		    i = 0,
		    n = initialN,
		    bias = initialBias,
		    basic,
		    j,
		    index,
		    oldi,
		    w,
		    k,
		    digit,
		    t,
		    /** Cached calculation results */
		    baseMinusT;

		// Handle the basic code points: let `basic` be the number of input code
		// points before the last delimiter, or `0` if there is none, then copy
		// the first basic code points to the output.

		basic = input.lastIndexOf(delimiter);
		if (basic < 0) {
			basic = 0;
		}

		for (j = 0; j < basic; ++j) {
			// if it's not a basic code point
			if (input.charCodeAt(j) >= 0x80) {
				error('not-basic');
			}
			output.push(input.charCodeAt(j));
		}

		// Main decoding loop: start just after the last delimiter if any basic code
		// points were copied; start at the beginning otherwise.

		for (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {

			// `index` is the index of the next character to be consumed.
			// Decode a generalized variable-length integer into `delta`,
			// which gets added to `i`. The overflow checking is easier
			// if we increase `i` as we go, then subtract off its starting
			// value at the end to obtain `delta`.
			for (oldi = i, w = 1, k = base; /* no condition */; k += base) {

				if (index >= inputLength) {
					error('invalid-input');
				}

				digit = basicToDigit(input.charCodeAt(index++));

				if (digit >= base || digit > floor((maxInt - i) / w)) {
					error('overflow');
				}

				i += digit * w;
				t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);

				if (digit < t) {
					break;
				}

				baseMinusT = base - t;
				if (w > floor(maxInt / baseMinusT)) {
					error('overflow');
				}

				w *= baseMinusT;

			}

			out = output.length + 1;
			bias = adapt(i - oldi, out, oldi == 0);

			// `i` was supposed to wrap around from `out` to `0`,
			// incrementing `n` each time, so we'll fix that now:
			if (floor(i / out) > maxInt - n) {
				error('overflow');
			}

			n += floor(i / out);
			i %= out;

			// Insert `n` at position `i` of the output
			output.splice(i++, 0, n);

		}

		return ucs2encode(output);
	}

	/**
	 * Converts a string of Unicode symbols (e.g. a domain name label) to a
	 * Punycode string of ASCII-only symbols.
	 * @memberOf punycode
	 * @param {String} input The string of Unicode symbols.
	 * @returns {String} The resulting Punycode string of ASCII-only symbols.
	 */
	function encode(input) {
		var n,
		    delta,
		    handledCPCount,
		    basicLength,
		    bias,
		    j,
		    m,
		    q,
		    k,
		    t,
		    currentValue,
		    output = [],
		    /** `inputLength` will hold the number of code points in `input`. */
		    inputLength,
		    /** Cached calculation results */
		    handledCPCountPlusOne,
		    baseMinusT,
		    qMinusT;

		// Convert the input in UCS-2 to Unicode
		input = ucs2decode(input);

		// Cache the length
		inputLength = input.length;

		// Initialize the state
		n = initialN;
		delta = 0;
		bias = initialBias;

		// Handle the basic code points
		for (j = 0; j < inputLength; ++j) {
			currentValue = input[j];
			if (currentValue < 0x80) {
				output.push(stringFromCharCode(currentValue));
			}
		}

		handledCPCount = basicLength = output.length;

		// `handledCPCount` is the number of code points that have been handled;
		// `basicLength` is the number of basic code points.

		// Finish the basic string - if it is not empty - with a delimiter
		if (basicLength) {
			output.push(delimiter);
		}

		// Main encoding loop:
		while (handledCPCount < inputLength) {

			// All non-basic code points < n have been handled already. Find the next
			// larger one:
			for (m = maxInt, j = 0; j < inputLength; ++j) {
				currentValue = input[j];
				if (currentValue >= n && currentValue < m) {
					m = currentValue;
				}
			}

			// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,
			// but guard against overflow
			handledCPCountPlusOne = handledCPCount + 1;
			if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
				error('overflow');
			}

			delta += (m - n) * handledCPCountPlusOne;
			n = m;

			for (j = 0; j < inputLength; ++j) {
				currentValue = input[j];

				if (currentValue < n && ++delta > maxInt) {
					error('overflow');
				}

				if (currentValue == n) {
					// Represent delta as a generalized variable-length integer
					for (q = delta, k = base; /* no condition */; k += base) {
						t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);
						if (q < t) {
							break;
						}
						qMinusT = q - t;
						baseMinusT = base - t;
						output.push(
							stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))
						);
						q = floor(qMinusT / baseMinusT);
					}

					output.push(stringFromCharCode(digitToBasic(q, 0)));
					bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
					delta = 0;
					++handledCPCount;
				}
			}

			++delta;
			++n;

		}
		return output.join('');
	}

	/**
	 * Converts a Punycode string representing a domain name or an email address
	 * to Unicode. Only the Punycoded parts of the input will be converted, i.e.
	 * it doesn't matter if you call it on a string that has already been
	 * converted to Unicode.
	 * @memberOf punycode
	 * @param {String} input The Punycoded domain name or email address to
	 * convert to Unicode.
	 * @returns {String} The Unicode representation of the given Punycode
	 * string.
	 */
	function toUnicode(input) {
		return mapDomain(input, function(string) {
			return regexPunycode.test(string)
				? decode(string.slice(4).toLowerCase())
				: string;
		});
	}

	/**
	 * Converts a Unicode string representing a domain name or an email address to
	 * Punycode. Only the non-ASCII parts of the domain name will be converted,
	 * i.e. it doesn't matter if you call it with a domain that's already in
	 * ASCII.
	 * @memberOf punycode
	 * @param {String} input The domain name or email address to convert, as a
	 * Unicode string.
	 * @returns {String} The Punycode representation of the given domain name or
	 * email address.
	 */
	function toASCII(input) {
		return mapDomain(input, function(string) {
			return regexNonASCII.test(string)
				? 'xn--' + encode(string)
				: string;
		});
	}

	/*--------------------------------------------------------------------------*/

	/** Define the public API */
	punycode = {
		/**
		 * A string representing the current Punycode.js version number.
		 * @memberOf punycode
		 * @type String
		 */
		'version': '1.4.1',
		/**
		 * An object of methods to convert from JavaScript's internal character
		 * representation (UCS-2) to Unicode code points, and back.
		 * @see <https://mathiasbynens.be/notes/javascript-encoding>
		 * @memberOf punycode
		 * @type Object
		 */
		'ucs2': {
			'decode': ucs2decode,
			'encode': ucs2encode
		},
		'decode': decode,
		'encode': encode,
		'toASCII': toASCII,
		'toUnicode': toUnicode
	};

	/** Expose `punycode` */
	// Some AMD build optimizers, like r.js, check for specific condition patterns
	// like the following:
	if (
		typeof define == 'function' &&
		typeof define.amd == 'object' &&
		define.amd
	) {
		define('punycode', function() {
			return punycode;
		});
	} else if (freeExports && freeModule) {
		if (module.exports == freeExports) {
			// in Node.js, io.js, or RingoJS v0.8.0+
			freeModule.exports = punycode;
		} else {
			// in Narwhal or RingoJS v0.7.0-
			for (key in punycode) {
				punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);
			}
		}
	} else {
		// in Rhino or a web browser
		root.punycode = punycode;
	}

}(this));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

'use strict';

// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

module.exports = function(qs, sep, eq, options) {
  sep = sep || '&';
  eq = eq || '=';
  var obj = {};

  if (typeof qs !== 'string' || qs.length === 0) {
    return obj;
  }

  var regexp = /\+/g;
  qs = qs.split(sep);

  var maxKeys = 1000;
  if (options && typeof options.maxKeys === 'number') {
    maxKeys = options.maxKeys;
  }

  var len = qs.length;
  // maxKeys <= 0 means that we should not limit keys count
  if (maxKeys > 0 && len > maxKeys) {
    len = maxKeys;
  }

  for (var i = 0; i < len; ++i) {
    var x = qs[i].replace(regexp, '%20'),
        idx = x.indexOf(eq),
        kstr, vstr, k, v;

    if (idx >= 0) {
      kstr = x.substr(0, idx);
      vstr = x.substr(idx + 1);
    } else {
      kstr = x;
      vstr = '';
    }

    k = decodeURIComponent(kstr);
    v = decodeURIComponent(vstr);

    if (!hasOwnProperty(obj, k)) {
      obj[k] = v;
    } else if (isArray(obj[k])) {
      obj[k].push(v);
    } else {
      obj[k] = [obj[k], v];
    }
  }

  return obj;
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

},{}],3:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

'use strict';

var stringifyPrimitive = function(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};

module.exports = function(obj, sep, eq, name) {
  sep = sep || '&';
  eq = eq || '=';
  if (obj === null) {
    obj = undefined;
  }

  if (typeof obj === 'object') {
    return map(objectKeys(obj), function(k) {
      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;
      if (isArray(obj[k])) {
        return map(obj[k], function(v) {
          return ks + encodeURIComponent(stringifyPrimitive(v));
        }).join(sep);
      } else {
        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));
      }
    }).join(sep);

  }

  if (!name) return '';
  return encodeURIComponent(stringifyPrimitive(name)) + eq +
         encodeURIComponent(stringifyPrimitive(obj));
};

var isArray = Array.isArray || function (xs) {
  return Object.prototype.toString.call(xs) === '[object Array]';
};

function map (xs, f) {
  if (xs.map) return xs.map(f);
  var res = [];
  for (var i = 0; i < xs.length; i++) {
    res.push(f(xs[i], i));
  }
  return res;
}

var objectKeys = Object.keys || function (obj) {
  var res = [];
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);
  }
  return res;
};

},{}],4:[function(require,module,exports){
'use strict';

exports.decode = exports.parse = require('./decode');
exports.encode = exports.stringify = require('./encode');

},{"./decode":2,"./encode":3}],5:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

'use strict';

var punycode = require('punycode');
var util = require('./util');

exports.parse = urlParse;
exports.resolve = urlResolve;
exports.resolveObject = urlResolveObject;
exports.format = urlFormat;

exports.Url = Url;

function Url() {
  this.protocol = null;
  this.slashes = null;
  this.auth = null;
  this.host = null;
  this.port = null;
  this.hostname = null;
  this.hash = null;
  this.search = null;
  this.query = null;
  this.pathname = null;
  this.path = null;
  this.href = null;
}

// Reference: RFC 3986, RFC 1808, RFC 2396

// define these here so at least they only have to be
// compiled once on the first module load.
var protocolPattern = /^([a-z0-9.+-]+:)/i,
    portPattern = /:[0-9]*$/,

    // Special case for a simple path URL
    simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,

    // RFC 2396: characters reserved for delimiting URLs.
    // We actually just auto-escape these.
    delims = ['<', '>', '"', '`', ' ', '\r', '\n', '\t'],

    // RFC 2396: characters not allowed for various reasons.
    unwise = ['{', '}', '|', '\\', '^', '`'].concat(delims),

    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.
    autoEscape = ['\''].concat(unwise),
    // Characters that are never ever allowed in a hostname.
    // Note that any invalid chars are also handled, but these
    // are the ones that are *expected* to be seen, so we fast-path
    // them.
    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),
    hostEndingChars = ['/', '?', '#'],
    hostnameMaxLen = 255,
    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
    // protocols that can allow "unsafe" and "unwise" chars.
    unsafeProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that never have a hostname.
    hostlessProtocol = {
      'javascript': true,
      'javascript:': true
    },
    // protocols that always contain a // bit.
    slashedProtocol = {
      'http': true,
      'https': true,
      'ftp': true,
      'gopher': true,
      'file': true,
      'http:': true,
      'https:': true,
      'ftp:': true,
      'gopher:': true,
      'file:': true
    },
    querystring = require('querystring');

function urlParse(url, parseQueryString, slashesDenoteHost) {
  if (url && util.isObject(url) && url instanceof Url) return url;

  var u = new Url;
  u.parse(url, parseQueryString, slashesDenoteHost);
  return u;
}

Url.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {
  if (!util.isString(url)) {
    throw new TypeError("Parameter 'url' must be a string, not " + typeof url);
  }

  // Copy chrome, IE, opera backslash-handling behavior.
  // Back slashes before the query string get converted to forward slashes
  // See: https://code.google.com/p/chromium/issues/detail?id=25916
  var queryIndex = url.indexOf('?'),
      splitter =
          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',
      uSplit = url.split(splitter),
      slashRegex = /\\/g;
  uSplit[0] = uSplit[0].replace(slashRegex, '/');
  url = uSplit.join(splitter);

  var rest = url;

  // trim before proceeding.
  // This is to support parse stuff like "  http://foo.com  \n"
  rest = rest.trim();

  if (!slashesDenoteHost && url.split('#').length === 1) {
    // Try fast path regexp
    var simplePath = simplePathPattern.exec(rest);
    if (simplePath) {
      this.path = rest;
      this.href = rest;
      this.pathname = simplePath[1];
      if (simplePath[2]) {
        this.search = simplePath[2];
        if (parseQueryString) {
          this.query = querystring.parse(this.search.substr(1));
        } else {
          this.query = this.search.substr(1);
        }
      } else if (parseQueryString) {
        this.search = '';
        this.query = {};
      }
      return this;
    }
  }

  var proto = protocolPattern.exec(rest);
  if (proto) {
    proto = proto[0];
    var lowerProto = proto.toLowerCase();
    this.protocol = lowerProto;
    rest = rest.substr(proto.length);
  }

  // figure out if it's got a host
  // user@server is *always* interpreted as a hostname, and url
  // resolution will treat //foo/bar as host=foo,path=bar because that's
  // how the browser resolves relative URLs.
  if (slashesDenoteHost || proto || rest.match(/^\/\/[^@\/]+@[^@\/]+/)) {
    var slashes = rest.substr(0, 2) === '//';
    if (slashes && !(proto && hostlessProtocol[proto])) {
      rest = rest.substr(2);
      this.slashes = true;
    }
  }

  if (!hostlessProtocol[proto] &&
      (slashes || (proto && !slashedProtocol[proto]))) {

    // there's a hostname.
    // the first instance of /, ?, ;, or # ends the host.
    //
    // If there is an @ in the hostname, then non-host chars *are* allowed
    // to the left of the last @ sign, unless some host-ending character
    // comes *before* the @-sign.
    // URLs are obnoxious.
    //
    // ex:
    // http://a@b@c/ => user:a@b host:c
    // http://a@b?@c => user:a host:c path:/?@c

    // v0.12 TODO(isaacs): This is not quite how Chrome does things.
    // Review our test case against browsers more comprehensively.

    // find the first instance of any hostEndingChars
    var hostEnd = -1;
    for (var i = 0; i < hostEndingChars.length; i++) {
      var hec = rest.indexOf(hostEndingChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }

    // at this point, either we have an explicit point where the
    // auth portion cannot go past, or the last @ char is the decider.
    var auth, atSign;
    if (hostEnd === -1) {
      // atSign can be anywhere.
      atSign = rest.lastIndexOf('@');
    } else {
      // atSign must be in auth portion.
      // http://a@b/c@d => host:b auth:a path:/c@d
      atSign = rest.lastIndexOf('@', hostEnd);
    }

    // Now we have a portion which is definitely the auth.
    // Pull that off.
    if (atSign !== -1) {
      auth = rest.slice(0, atSign);
      rest = rest.slice(atSign + 1);
      this.auth = decodeURIComponent(auth);
    }

    // the host is the remaining to the left of the first non-host char
    hostEnd = -1;
    for (var i = 0; i < nonHostChars.length; i++) {
      var hec = rest.indexOf(nonHostChars[i]);
      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))
        hostEnd = hec;
    }
    // if we still have not hit it, then the entire thing is a host.
    if (hostEnd === -1)
      hostEnd = rest.length;

    this.host = rest.slice(0, hostEnd);
    rest = rest.slice(hostEnd);

    // pull out port.
    this.parseHost();

    // we've indicated that there is a hostname,
    // so even if it's empty, it has to be present.
    this.hostname = this.hostname || '';

    // if hostname begins with [ and ends with ]
    // assume that it's an IPv6 address.
    var ipv6Hostname = this.hostname[0] === '[' &&
        this.hostname[this.hostname.length - 1] === ']';

    // validate a little.
    if (!ipv6Hostname) {
      var hostparts = this.hostname.split(/\./);
      for (var i = 0, l = hostparts.length; i < l; i++) {
        var part = hostparts[i];
        if (!part) continue;
        if (!part.match(hostnamePartPattern)) {
          var newpart = '';
          for (var j = 0, k = part.length; j < k; j++) {
            if (part.charCodeAt(j) > 127) {
              // we replace non-ASCII char with a temporary placeholder
              // we need this to make sure size of hostname is not
              // broken by replacing non-ASCII by nothing
              newpart += 'x';
            } else {
              newpart += part[j];
            }
          }
          // we test again with ASCII char only
          if (!newpart.match(hostnamePartPattern)) {
            var validParts = hostparts.slice(0, i);
            var notHost = hostparts.slice(i + 1);
            var bit = part.match(hostnamePartStart);
            if (bit) {
              validParts.push(bit[1]);
              notHost.unshift(bit[2]);
            }
            if (notHost.length) {
              rest = '/' + notHost.join('.') + rest;
            }
            this.hostname = validParts.join('.');
            break;
          }
        }
      }
    }

    if (this.hostname.length > hostnameMaxLen) {
      this.hostname = '';
    } else {
      // hostnames are always lower case.
      this.hostname = this.hostname.toLowerCase();
    }

    if (!ipv6Hostname) {
      // IDNA Support: Returns a punycoded representation of "domain".
      // It only converts parts of the domain name that
      // have non-ASCII characters, i.e. it doesn't matter if
      // you call it with a domain that already is ASCII-only.
      this.hostname = punycode.toASCII(this.hostname);
    }

    var p = this.port ? ':' + this.port : '';
    var h = this.hostname || '';
    this.host = h + p;
    this.href += this.host;

    // strip [ and ] from the hostname
    // the host field still retains them, though
    if (ipv6Hostname) {
      this.hostname = this.hostname.substr(1, this.hostname.length - 2);
      if (rest[0] !== '/') {
        rest = '/' + rest;
      }
    }
  }

  // now rest is set to the post-host stuff.
  // chop off any delim chars.
  if (!unsafeProtocol[lowerProto]) {

    // First, make 100% sure that any "autoEscape" chars get
    // escaped, even if encodeURIComponent doesn't think they
    // need to be.
    for (var i = 0, l = autoEscape.length; i < l; i++) {
      var ae = autoEscape[i];
      if (rest.indexOf(ae) === -1)
        continue;
      var esc = encodeURIComponent(ae);
      if (esc === ae) {
        esc = escape(ae);
      }
      rest = rest.split(ae).join(esc);
    }
  }


  // chop off from the tail first.
  var hash = rest.indexOf('#');
  if (hash !== -1) {
    // got a fragment string.
    this.hash = rest.substr(hash);
    rest = rest.slice(0, hash);
  }
  var qm = rest.indexOf('?');
  if (qm !== -1) {
    this.search = rest.substr(qm);
    this.query = rest.substr(qm + 1);
    if (parseQueryString) {
      this.query = querystring.parse(this.query);
    }
    rest = rest.slice(0, qm);
  } else if (parseQueryString) {
    // no query string, but parseQueryString still requested
    this.search = '';
    this.query = {};
  }
  if (rest) this.pathname = rest;
  if (slashedProtocol[lowerProto] &&
      this.hostname && !this.pathname) {
    this.pathname = '/';
  }

  //to support http.request
  if (this.pathname || this.search) {
    var p = this.pathname || '';
    var s = this.search || '';
    this.path = p + s;
  }

  // finally, reconstruct the href based on what has been validated.
  this.href = this.format();
  return this;
};

// format a parsed object into a url string
function urlFormat(obj) {
  // ensure it's an object, and not a string url.
  // If it's an obj, this is a no-op.
  // this way, you can call url_format() on strings
  // to clean up potentially wonky urls.
  if (util.isString(obj)) obj = urlParse(obj);
  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);
  return obj.format();
}

Url.prototype.format = function() {
  var auth = this.auth || '';
  if (auth) {
    auth = encodeURIComponent(auth);
    auth = auth.replace(/%3A/i, ':');
    auth += '@';
  }

  var protocol = this.protocol || '',
      pathname = this.pathname || '',
      hash = this.hash || '',
      host = false,
      query = '';

  if (this.host) {
    host = auth + this.host;
  } else if (this.hostname) {
    host = auth + (this.hostname.indexOf(':') === -1 ?
        this.hostname :
        '[' + this.hostname + ']');
    if (this.port) {
      host += ':' + this.port;
    }
  }

  if (this.query &&
      util.isObject(this.query) &&
      Object.keys(this.query).length) {
    query = querystring.stringify(this.query);
  }

  var search = this.search || (query && ('?' + query)) || '';

  if (protocol && protocol.substr(-1) !== ':') protocol += ':';

  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.
  // unless they had them to begin with.
  if (this.slashes ||
      (!protocol || slashedProtocol[protocol]) && host !== false) {
    host = '//' + (host || '');
    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;
  } else if (!host) {
    host = '';
  }

  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;
  if (search && search.charAt(0) !== '?') search = '?' + search;

  pathname = pathname.replace(/[?#]/g, function(match) {
    return encodeURIComponent(match);
  });
  search = search.replace('#', '%23');

  return protocol + host + pathname + search + hash;
};

function urlResolve(source, relative) {
  return urlParse(source, false, true).resolve(relative);
}

Url.prototype.resolve = function(relative) {
  return this.resolveObject(urlParse(relative, false, true)).format();
};

function urlResolveObject(source, relative) {
  if (!source) return relative;
  return urlParse(source, false, true).resolveObject(relative);
}

Url.prototype.resolveObject = function(relative) {
  if (util.isString(relative)) {
    var rel = new Url();
    rel.parse(relative, false, true);
    relative = rel;
  }

  var result = new Url();
  var tkeys = Object.keys(this);
  for (var tk = 0; tk < tkeys.length; tk++) {
    var tkey = tkeys[tk];
    result[tkey] = this[tkey];
  }

  // hash is always overridden, no matter what.
  // even href="" will remove it.
  result.hash = relative.hash;

  // if the relative url is empty, then there's nothing left to do here.
  if (relative.href === '') {
    result.href = result.format();
    return result;
  }

  // hrefs like //foo/bar always cut to the protocol.
  if (relative.slashes && !relative.protocol) {
    // take everything except the protocol from relative
    var rkeys = Object.keys(relative);
    for (var rk = 0; rk < rkeys.length; rk++) {
      var rkey = rkeys[rk];
      if (rkey !== 'protocol')
        result[rkey] = relative[rkey];
    }

    //urlParse appends trailing / to urls like http://www.example.com
    if (slashedProtocol[result.protocol] &&
        result.hostname && !result.pathname) {
      result.path = result.pathname = '/';
    }

    result.href = result.format();
    return result;
  }

  if (relative.protocol && relative.protocol !== result.protocol) {
    // if it's a known url protocol, then changing
    // the protocol does weird things
    // first, if it's not file:, then we MUST have a host,
    // and if there was a path
    // to begin with, then we MUST have a path.
    // if it is file:, then the host is dropped,
    // because that's known to be hostless.
    // anything else is assumed to be absolute.
    if (!slashedProtocol[relative.protocol]) {
      var keys = Object.keys(relative);
      for (var v = 0; v < keys.length; v++) {
        var k = keys[v];
        result[k] = relative[k];
      }
      result.href = result.format();
      return result;
    }

    result.protocol = relative.protocol;
    if (!relative.host && !hostlessProtocol[relative.protocol]) {
      var relPath = (relative.pathname || '').split('/');
      while (relPath.length && !(relative.host = relPath.shift()));
      if (!relative.host) relative.host = '';
      if (!relative.hostname) relative.hostname = '';
      if (relPath[0] !== '') relPath.unshift('');
      if (relPath.length < 2) relPath.unshift('');
      result.pathname = relPath.join('/');
    } else {
      result.pathname = relative.pathname;
    }
    result.search = relative.search;
    result.query = relative.query;
    result.host = relative.host || '';
    result.auth = relative.auth;
    result.hostname = relative.hostname || relative.host;
    result.port = relative.port;
    // to support http.request
    if (result.pathname || result.search) {
      var p = result.pathname || '';
      var s = result.search || '';
      result.path = p + s;
    }
    result.slashes = result.slashes || relative.slashes;
    result.href = result.format();
    return result;
  }

  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),
      isRelAbs = (
          relative.host ||
          relative.pathname && relative.pathname.charAt(0) === '/'
      ),
      mustEndAbs = (isRelAbs || isSourceAbs ||
                    (result.host && relative.pathname)),
      removeAllDots = mustEndAbs,
      srcPath = result.pathname && result.pathname.split('/') || [],
      relPath = relative.pathname && relative.pathname.split('/') || [],
      psychotic = result.protocol && !slashedProtocol[result.protocol];

  // if the url is a non-slashed url, then relative
  // links like ../.. should be able
  // to crawl up to the hostname, as well.  This is strange.
  // result.protocol has already been set by now.
  // Later on, put the first path part into the host field.
  if (psychotic) {
    result.hostname = '';
    result.port = null;
    if (result.host) {
      if (srcPath[0] === '') srcPath[0] = result.host;
      else srcPath.unshift(result.host);
    }
    result.host = '';
    if (relative.protocol) {
      relative.hostname = null;
      relative.port = null;
      if (relative.host) {
        if (relPath[0] === '') relPath[0] = relative.host;
        else relPath.unshift(relative.host);
      }
      relative.host = null;
    }
    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');
  }

  if (isRelAbs) {
    // it's absolute.
    result.host = (relative.host || relative.host === '') ?
                  relative.host : result.host;
    result.hostname = (relative.hostname || relative.hostname === '') ?
                      relative.hostname : result.hostname;
    result.search = relative.search;
    result.query = relative.query;
    srcPath = relPath;
    // fall through to the dot-handling below.
  } else if (relPath.length) {
    // it's relative
    // throw away the existing file, and take the new path instead.
    if (!srcPath) srcPath = [];
    srcPath.pop();
    srcPath = srcPath.concat(relPath);
    result.search = relative.search;
    result.query = relative.query;
  } else if (!util.isNullOrUndefined(relative.search)) {
    // just pull out the search.
    // like href='?foo'.
    // Put this after the other two cases because it simplifies the booleans
    if (psychotic) {
      result.hostname = result.host = srcPath.shift();
      //occationaly the auth can get stuck only in host
      //this especially happens in cases like
      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
      var authInHost = result.host && result.host.indexOf('@') > 0 ?
                       result.host.split('@') : false;
      if (authInHost) {
        result.auth = authInHost.shift();
        result.host = result.hostname = authInHost.shift();
      }
    }
    result.search = relative.search;
    result.query = relative.query;
    //to support http.request
    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
      result.path = (result.pathname ? result.pathname : '') +
                    (result.search ? result.search : '');
    }
    result.href = result.format();
    return result;
  }

  if (!srcPath.length) {
    // no path at all.  easy.
    // we've already handled the other stuff above.
    result.pathname = null;
    //to support http.request
    if (result.search) {
      result.path = '/' + result.search;
    } else {
      result.path = null;
    }
    result.href = result.format();
    return result;
  }

  // if a url ENDs in . or .., then it must get a trailing slash.
  // however, if it ends in anything else non-slashy,
  // then it must NOT get a trailing slash.
  var last = srcPath.slice(-1)[0];
  var hasTrailingSlash = (
      (result.host || relative.host || srcPath.length > 1) &&
      (last === '.' || last === '..') || last === '');

  // strip single dots, resolve double dots to parent dir
  // if the path tries to go above the root, `up` ends up > 0
  var up = 0;
  for (var i = srcPath.length; i >= 0; i--) {
    last = srcPath[i];
    if (last === '.') {
      srcPath.splice(i, 1);
    } else if (last === '..') {
      srcPath.splice(i, 1);
      up++;
    } else if (up) {
      srcPath.splice(i, 1);
      up--;
    }
  }

  // if the path is allowed to go above the root, restore leading ..s
  if (!mustEndAbs && !removeAllDots) {
    for (; up--; up) {
      srcPath.unshift('..');
    }
  }

  if (mustEndAbs && srcPath[0] !== '' &&
      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {
    srcPath.unshift('');
  }

  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {
    srcPath.push('');
  }

  var isAbsolute = srcPath[0] === '' ||
      (srcPath[0] && srcPath[0].charAt(0) === '/');

  // put the host back
  if (psychotic) {
    result.hostname = result.host = isAbsolute ? '' :
                                    srcPath.length ? srcPath.shift() : '';
    //occationaly the auth can get stuck only in host
    //this especially happens in cases like
    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')
    var authInHost = result.host && result.host.indexOf('@') > 0 ?
                     result.host.split('@') : false;
    if (authInHost) {
      result.auth = authInHost.shift();
      result.host = result.hostname = authInHost.shift();
    }
  }

  mustEndAbs = mustEndAbs || (result.host && srcPath.length);

  if (mustEndAbs && !isAbsolute) {
    srcPath.unshift('');
  }

  if (!srcPath.length) {
    result.pathname = null;
    result.path = null;
  } else {
    result.pathname = srcPath.join('/');
  }

  //to support request.http
  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {
    result.path = (result.pathname ? result.pathname : '') +
                  (result.search ? result.search : '');
  }
  result.auth = relative.auth || result.auth;
  result.slashes = result.slashes || relative.slashes;
  result.href = result.format();
  return result;
};

Url.prototype.parseHost = function() {
  var host = this.host;
  var port = portPattern.exec(host);
  if (port) {
    port = port[0];
    if (port !== ':') {
      this.port = port.substr(1);
    }
    host = host.substr(0, host.length - port.length);
  }
  if (host) this.hostname = host;
};

},{"./util":6,"punycode":1,"querystring":4}],6:[function(require,module,exports){
'use strict';

module.exports = {
  isString: function(arg) {
    return typeof(arg) === 'string';
  },
  isObject: function(arg) {
    return typeof(arg) === 'object' && arg !== null;
  },
  isNull: function(arg) {
    return arg === null;
  },
  isNullOrUndefined: function(arg) {
    return arg == null;
  }
};

},{}],7:[function(require,module,exports){
'use strict';

// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

if (typeof Object.assign !== 'function') {
  // jshint maxdepth:4
  Object.assign = function (target, varArgs) {
    // .length of function is 2
    if (target === null) {
      // TypeError if undefined or null
      throw new TypeError('Cannot convert undefined or null to object');
    }

    var to = Object(target);

    for (var index = 1; index < arguments.length; index++) {
      var nextSource = arguments[index];

      if (nextSource !== null) {
        // Skip over if undefined or null
        for (var nextKey in nextSource) {
          // Avoid bugs when hasOwnProperty is shadowed
          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
            to[nextKey] = nextSource[nextKey];
          }
        }
      }
    }
    return to;
  };
}

/**
 * Initialization helper. This method is this module's exported entry point.
 * @param {string|Array|Element} selector - css selector, one element, array of nodes or html fragment
 * @param {node} [context=document] - context node in which to query
 * @returns {DOMQuery} A DOMQuery instance containing the selected set of nodes
 */
function dq(selector, context) {
  var nodes = [];
  context = context || document;
  if (typeof selector === 'function') {
    if (context.attachEvent ? context.readyState === 'complete' : context.readyState !== 'loading') {
      selector();
    } else {
      context.addEventListener('DOMContentLoaded', selector);
    }
  } else if (selector instanceof Element) {
    nodes = [selector];
  } else if (typeof selector === 'string') {
    if (selector[0] === '<') {
      nodes = Array.prototype.slice.call(fragment(selector));
    } else {
      nodes = Array.prototype.slice.call(context.querySelectorAll(selector));
    }
  } else {
    nodes = selector;
  }
  return new DOMQuery(nodes, context);
}

/**
 * Contains a set of DOM nodes and provides methods to manipulate the nodes.
 * @constructor
 */
function DOMQuery(elements, context) {
  this.length = elements.length;
  this.context = context;
  var self = this;
  each(elements, function (i) {
    self[i] = this;
  });
}

/**
 * Iterates through each node and calls the callback in its context.
 * @param {eachArrayCallback} callback - A function to be called with a node
 * @returns {DOMQuery}
 */
DOMQuery.prototype.each = function (callback) {
  for (var i = this.length - 1; i >= 0; i--) {
    callback.call(this[i], i, this[i]);
  }
  return this;
};

/**
 * Empties each node.
 * @returns {DOMQuery}
 */
DOMQuery.prototype.empty = function () {
  return this.each(empty);
};

/**
 * Sets the text content of each node. Returns the text content of the first node.
 * @param {string} [text] - The text content to set
 * @returns {DOMQuery|string}
 */
DOMQuery.prototype.text = function (text) {
  if (text === undefined) {
    return this[0].textContent;
  }
  return this.each(function () {
    this.textContent = text;
  });
};

/**
 * Sets an attribute on each node. Returns the attribute's value of the first node.
 * @param {string} [name] - The attribute's name
 * @param {string} [value] - The value to set
 * @returns {DOMQuery|string}
 */
DOMQuery.prototype.attr = function (name, value) {
  if (this.length < 1) {
    return null;
  }
  if (value === undefined) {
    return this[0].getAttribute(name);
  }
  return this.each(function () {
    this.setAttribute(name, value);
  });
};

/**
 * Sets a data attribute on each node. Returns the data attribute's value of the first node.
 * Supports deserialization of complex data types as values.
 * @param {string} [key] - The attribute's name
 * @param {string} [value] - The value to set
 * @returns {DOMQuery|string|Object}
 */
DOMQuery.prototype.data = function (key, value) {
  if (value) {
    return this.attr('data-' + key, value);
  }
  if (key) {
    return this.attr('data-' + key);
  }
  var data = Object.assign({}, this[0].dataset);
  each(data, function (k, v) {
    data[k] = deserializeValue(v);
  });
  return data;
};

/**
 * Returns a new DOMQuery instance containing all matched nodes in the context
 * of the set of nodes.
 * @param {string} selector - The CSS selector
 * @returns {DOMQuery}
 */
DOMQuery.prototype.find = function (selector) {
  var matches;
  // querySelectorAll in the context of each element in the set
  matches = map(this, function (el) {
    return el.querySelectorAll(selector);
  });
  // convert NodeList matches into Array
  matches = map(matches, function (el) {
    return Array.prototype.slice.call(el);
  });
  // flatten the array
  matches = Array.prototype.concat.apply([], matches);
  return new DOMQuery(matches);
};

/**
 * Appends nodes to the end of the first node in the set.
 * @param {string|Array} html - Nodes to append. May be a string containing HTML.
 * @returns {DOMQuery}
 */
DOMQuery.prototype.append = function (html) {
  if (typeof html === 'string') {
    html = fragment(html);
  }
  append(this[0], html);
  return this;
};

/**
 * Prepends nodes at the top of the first node in the set.
 * @param {string|Array} html - Nodes to append. May be a string containing HTML.
 * @returns {DOMQuery}
 */
DOMQuery.prototype.prepend = function (html) {
  if (typeof html === 'string') {
    html = fragment(html);
  }
  prepend(this[0], html);
  return this;
};

/**
 * Adds a CSS class name to the nodes in the set.
 * @param {string} name - Class name to add
 * @returns {DOMQuery}
 */
DOMQuery.prototype.addClass = function (names) {
  return this.each(function () {
    var _classList;

    (_classList = this.classList).add.apply(_classList, _toConsumableArray(names.split(' ')));
  });
};

/**
 * Removes a CSS class name from the nodes in the set.
 * @param {string} name - Class name to remove
 * @returns {DOMQuery}
 */
DOMQuery.prototype.removeClass = function (name) {
  return this.each(function () {
    this.classList.remove(name);
  });
};

/**
 * Delegates an event for a node matching a selector to each element in the set.
 * @param {string} event - The event name
 * @param {string} selector - The CSS selector
 * @param {eventHandler} handler - The event handler function
 * @returns {DOMQuery}
 */
DOMQuery.prototype.on = function (event, selector, handler) {
  return this.each(function () {
    delegateEvent(selector, event, handler, this);
  });
};

/**
 * Removes each child of a node.
 * @private
 */
var empty = function empty() {
  while (this.hasChildNodes()) {
    this.removeChild(this.firstChild);
  }
};

/**
 * Callback function used for map(array, callback).
 *
 * @callback mapCallback
 * @param {Object} object - An element of the array
 * @return {Array}
 * @see map
 */

/**
 * Runs a callback with each element in an array and returns a new array.
 * @param {Array} objects - The array to iterate
 * @param {function} callback - The callback function
 * @returns {Array}
 */
var map = function map(objects, callback) {
  return Array.prototype.map.call(objects, callback);
};

/**
 * Callback function used for each(array, callback).
 * Called in the context of each element in the array.
 *
 * @callback eachArrayCallback
 * @param {number} index - Index of the current array element
 * @param {object} value - Element of the array
 * @return {Array}
 * @see each
 */

/**
 * Callback function used for each(object, callback).
 * Called in the context of each object property value.
 *
 * @callback eachObjectCallback
 * @param {Object} key - The object's property key
 * @param {object} value - The object's property value
 * @return {Array}
 * @see each
 */

/**
 * Runs a callback with each element in an array or key-value pair of an object.
 * Returns the original object/array.
 * @param {Object} object - The object to itrate
 * @param {eachArrayCallback|eachObjectCallback} callback - The callback function
 * @returns {Array}
 */
var each = function each(object, callback) {
  if (object instanceof Array) {
    for (var i = 0; i < object.length; i++) {
      callback.call(object[i], i, object[i]);
    }
  } else if (object instanceof Object) {
    for (var prop in object) {
      callback.call(object[prop], prop, object[prop], object);
    }
  }
  return object;
};

/**
 * Constructs HTML nodes from a string of HTML.
 * @param {string} html - String of HTML code
 * @returns {Array}
 * @private
 */
var fragment = function fragment(html) {
  var div = document.createElement('div');
  div.innerHTML = html;
  return div.children;
};

/**
 * Appends an array of nodes to the end of an HTML element.
 * @param {Element} parent - Element to append to
 * @param {Array} nodes - Collection of nodes to append
 * @private
 */
var append = function append(parent, nodes) {
  for (var i = 0; i < nodes.length; i++) {
    parent.appendChild(nodes[i]);
  }
};

/**
 * Prepends an array of nodes to the top of an HTML element.
 * @param {Element} parent - Element to prepend to
 * @param {Array} nodes - Collection of nodes to prepend
 * @private
 */
var prepend = function prepend(parent, nodes) {
  for (var i = nodes.length - 1; i >= 0; i--) {
    parent.insertBefore(nodes[nodes.length - 1], parent.firstChild);
  }
};

/**
 * Returns the closest parent of a node matching a CSS selector.
 * @param {HTMLElement} element - Element to append to
 * @param {string} selector - CSS selector
 * @param {HTMLElement}
 * @private
 * @see {@link https://gist.github.com/Daniel-Hug/abbded91dd55466e590b}
 */
var closest = function () {
  var element = HTMLElement.prototype;
  var matches = element.matches || element.webkitMatchesSelector || element.mozMatchesSelector || element.msMatchesSelector;

  return function closest(element, selector) {
    if (element === null) return;
    return matches.call(element, selector) ? element : closest(element.parentElement, selector);
  };
}();

/**
 * An event handler.
 *
 * @callback eventHandler
 * @param {Event} event - The event this handler was triggered for
 */

/**
 * Delegates an event for a node matching a selector.
 * @param {string} selector - The CSS selector
 * @param {string} event - The event name
 * @param {eventHandler} handler - The event handler function
 * @param {HTMLElement} [scope=document] - Element to add the event listener to
 * @private
 */
var delegateEvent = function delegateEvent(selector, event, handler, scope) {
  (scope || document).addEventListener(event, function (event) {
    var listeningTarget = closest(event.target, selector);
    if (listeningTarget) {
      handler.call(listeningTarget, event);
    }
  });
};

/**
 * Extends properties of all arguments into a single object.
 * @param {...Object} objects - Objects to merge
 * @param {string} event - The event name
 * @param {function} handler - The event handler function
 * @returns {Object}
 * @see {@link https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/}
 */
var extend = function extend(objects) {
  // Variables
  var extended = {};
  var deep = false;
  var i = 0;
  var length = arguments.length;

  // Check if a deep merge
  if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {
    deep = arguments[0];
    i++;
  }

  // Merge the object into the extended object
  var merge = function merge(obj) {
    for (var prop in obj) {
      if (Object.prototype.hasOwnProperty.call(obj, prop)) {
        // If deep merge and property is an object, merge properties
        if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {
          extended[prop] = extend(true, extended[prop], obj[prop]);
        } else {
          extended[prop] = obj[prop];
        }
      }
    }
  };

  // Loop through each object and conduct a merge
  for (; i < length; i++) {
    var obj = arguments[i];
    merge(obj);
  }

  return extended;
};

/**
 * The callback function for getJSON().
 *
 * @callback xhrCallback
 * @param {boolean} success - True on success. False on error.
 * @param {Object} data - The parsed data. null if success == false
 * @param {XMLHttpRequest} xhr - The request object
 * @see getJSON
 */

/**
 * Runs an Ajax request against a url and calls the callback function with
 * the parsed JSON result.
 * @param {string} url - The url to request
 * @param {xhrCallback} callback - The callback function
 * @returns {XMLHttpRequest}
 */
var getJSON = function getJSON(url, callback) {
  var xhr = new XMLHttpRequest();
  xhr.open('GET', url, true);
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.setRequestHeader('Accept', 'application/json');

  xhr.onload = function () {
    if (xhr.status >= 200 && xhr.status < 400) {
      var data = JSON.parse(xhr.responseText);
      callback(data, xhr.status, xhr);
    } else {
      callback(null, xhr.status, xhr);
    }
  };

  xhr.onerror = function (e) {
    callback(new Error(e), null, xhr);
  };

  xhr.send();
};

/**
 * Deserializes JSON values from strings. Used with data attributes.
 * @param {string} value - String to parse
 * @returns {Object}
 * @private
 */
var deserializeValue = function deserializeValue(value) {
  /* jshint maxcomplexity:7 */
  // boolean
  if (value === 'true') {
    return true;
  }
  if (value === 'false') {
    return false;
  }
  // null
  if (value === 'null') {
    return null;
  }
  // number
  if (+value + '' === value) {
    return +value;
  }
  // json
  if (/^[[{]/.test(value)) {
    try {
      return JSON.parse(value);
    } catch (e) {
      return value;
    }
  }
  // everything else
  return value;
};

dq.extend = extend;
dq.map = map;
dq.each = each;
dq.getJSON = getJSON;

module.exports = dq;

},{}],8:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'addthis',
    faName: 'fa-plus',
    title: {
      'bg': 'Сподели в AddThis',
      'da': 'Del på AddThis',
      'de': 'Bei AddThis teilen',
      'en': 'Share on AddThis',
      'es': 'Compartir en AddThis',
      'fi': 'Jaa AddThisissä',
      'fr': 'Partager sur AddThis',
      'hr': 'Podijelite na AddThis',
      'hu': 'Megosztás AddThisen',
      'it': 'Condividi su AddThis',
      'ja': 'AddThis上で共有',
      'ko': 'AddThis에서 공유하기',
      'nl': 'Delen op AddThis',
      'no': 'Del på AddThis',
      'pl': 'Udostępnij przez AddThis',
      'pt': 'Compartilhar no AddThis',
      'ro': 'Partajează pe AddThis',
      'ru': 'Поделиться на AddThis',
      'sk': 'Zdieľať na AddThis',
      'sl': 'Deli na AddThis',
      'sr': 'Podeli na AddThis',
      'sv': 'Dela på AddThis',
      'tr': 'AddThis\'ta paylaş',
      'zh': '在AddThis上分享'
    },
    shareUrl: 'http://api.addthis.com/oexchange/0.8/offer?url=' + url + shariff.getReferrerTrack()
  };
};

},{}],9:[function(require,module,exports){
'use strict';

var url = require('url');

module.exports = function (shariff) {
  var shareUrl = url.parse('https://share.diasporafoundation.org/', true);
  shareUrl.query.url = shariff.getURL();
  shareUrl.query.title = shariff.getTitle() || shariff.getMeta('DC.title');
  shareUrl.protocol = 'https';
  delete shareUrl.search;

  return {
    popup: true,
    shareText: {
      'de': 'teilen',
      'en': 'share',
      'zh': '分享'
    },
    name: 'diaspora',
    faName: 'fa-asterisk',
    title: {
      'de': 'Bei Diaspora teilen',
      'en': 'Share on Diaspora',
      'zh': '分享至Diaspora'
    },
    shareUrl: url.format(shareUrl) + shariff.getReferrerTrack()
  };
};

},{"url":5}],10:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'facebook',
    faName: 'fa-facebook',
    title: {
      'bg': 'Сподели във Facebook',
      'da': 'Del på Facebook',
      'de': 'Bei Facebook teilen',
      'en': 'Share on Facebook',
      'es': 'Compartir en Facebook',
      'fi': 'Jaa Facebookissa',
      'fr': 'Partager sur Facebook',
      'hr': 'Podijelite na Facebooku',
      'hu': 'Megosztás Facebookon',
      'it': 'Condividi su Facebook',
      'ja': 'フェイスブック上で共有',
      'ko': '페이스북에서 공유하기',
      'nl': 'Delen op Facebook',
      'no': 'Del på Facebook',
      'pl': 'Udostępnij na Facebooku',
      'pt': 'Compartilhar no Facebook',
      'ro': 'Partajează pe Facebook',
      'ru': 'Поделиться на Facebook',
      'sk': 'Zdieľať na Facebooku',
      'sl': 'Deli na Facebooku',
      'sr': 'Podeli na Facebook-u',
      'sv': 'Dela på Facebook',
      'tr': 'Facebook\'ta paylaş',
      'zh': '在Facebook上分享'
    },
    shareUrl: 'https://www.facebook.com/sharer/sharer.php?u=' + url + shariff.getReferrerTrack()
  };
};

},{}],11:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');
  var description = shariff.getMeta('description');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: true,
    shareText: 'Flattr',
    name: 'flattr',
    faName: 'fa-money',
    title: {
      'de': 'Artikel flattrn',
      'en': 'Flattr this'
    },
    shareUrl: 'https://flattr.com/submit/auto?title=' + encodeURIComponent(title) + '&description=' + encodeURIComponent(description) + '&category=' + encodeURIComponent(shariff.options.flattrCategory || 'text') + '&user_id=' + encodeURIComponent(shariff.options.flattrUser) + '&url=' + url + shariff.getReferrerTrack()
  };
};

},{}],12:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'googleplus',
    faName: 'fa-google-plus',
    title: {
      'bg': 'Сподели в Google+',
      'da': 'Del på Google+',
      'de': 'Bei Google+ teilen',
      'en': 'Share on Google+',
      'es': 'Compartir en Google+',
      'fi': 'Jaa Google+:ssa',
      'fr': 'Partager sur Goolge+',
      'hr': 'Podijelite na Google+',
      'hu': 'Megosztás Google+on',
      'it': 'Condividi su Google+',
      'ja': 'Google+上で共有',
      'ko': 'Google+에서 공유하기',
      'nl': 'Delen op Google+',
      'no': 'Del på Google+',
      'pl': 'Udostępnij na Google+',
      'pt': 'Compartilhar no Google+',
      'ro': 'Partajează pe Google+',
      'ru': 'Поделиться на Google+',
      'sk': 'Zdieľať na Google+',
      'sl': 'Deli na Google+',
      'sr': 'Podeli na Google+',
      'sv': 'Dela på Google+',
      'tr': 'Google+\'da paylaş',
      'zh': '在Google+上分享'
    },
    shareUrl: 'https://plus.google.com/share?url=' + url + shariff.getReferrerTrack()
  };
};

},{}],13:[function(require,module,exports){
'use strict';

module.exports = {
  addthis: require('./addthis'),
  diaspora: require('./diaspora'),
  facebook: require('./facebook'),
  flattr: require('./flattr'),
  googleplus: require('./googleplus'),
  info: require('./info'),
  linkedin: require('./linkedin'),
  mail: require('./mail'),
  pinterest: require('./pinterest'),
  print: require('./print'),
  qzone: require('./qzone'),
  reddit: require('./reddit'),
  stumbleupon: require('./stumbleupon'),
  tencent: require('./tencent-weibo'),
  threema: require('./threema'),
  tumblr: require('./tumblr'),
  twitter: require('./twitter'),
  weibo: require('./weibo'),
  whatsapp: require('./whatsapp'),
  xing: require('./xing')
};

},{"./addthis":8,"./diaspora":9,"./facebook":10,"./flattr":11,"./googleplus":12,"./info":14,"./linkedin":15,"./mail":16,"./pinterest":17,"./print":18,"./qzone":19,"./reddit":20,"./stumbleupon":21,"./tencent-weibo":22,"./threema":23,"./tumblr":24,"./twitter":25,"./weibo":26,"./whatsapp":27,"./xing":28}],14:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  return {
    blank: true,
    popup: false,
    shareText: 'Info',
    name: 'info',
    faName: 'fa-info',
    title: {
      'de': 'weitere Informationen',
      'en': 'more information',
      'es': 'más informaciones',
      'fr': 'plus d\'informations',
      'it': 'maggiori informazioni',
      'da': 'flere oplysninger',
      'nl': 'verdere informatie',
      'zh': '更多信息'
    },
    shareUrl: shariff.getInfoUrl()
  };
};

},{}],15:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  var title = encodeURIComponent(shariff.getTitle());
  var descr = encodeURIComponent(shariff.getMeta('description'));
  return {
    popup: true,
    shareText: {
      'de': 'mitteilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': 'シェア',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'distribuiți',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'linkedin',
    faName: 'fa-linkedin',
    title: {
      'bg': 'Сподели в LinkedIn',
      'da': 'Del på LinkedIn',
      'de': 'Bei LinkedIn teilen',
      'en': 'Share on LinkedIn',
      'es': 'Compartir en LinkedIn',
      'fi': 'Jaa LinkedInissä',
      'fr': 'Partager sur LinkedIn',
      'hr': 'Podijelite na LinkedIn',
      'hu': 'Megosztás LinkedInen',
      'it': 'Condividi su LinkedIn',
      'ja': 'LinkedIn上で共有',
      'ko': 'LinkedIn에서 공유하기',
      'nl': 'Delen op LinkedIn',
      'no': 'Del på LinkedIn',
      'pl': 'Udostępnij przez LinkedIn',
      'pt': 'Compartilhar no LinkedIn',
      'ro': 'Partajează pe LinkedIn',
      'ru': 'Поделиться на LinkedIn',
      'sk': 'Zdieľať na LinkedIn',
      'sl': 'Deli na LinkedIn',
      'sr': 'Podeli na LinkedIn-u',
      'sv': 'Dela på LinkedIn',
      'tr': 'LinkedIn\'ta paylaş',
      'zh': '在LinkedIn上分享'
    },
    shareUrl: 'https://www.linkedin.com/shareArticle?mini=true&summary=' + descr + '&title=' + title + '&url=' + url
  };
};

},{}],16:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = shariff.getOption('mailUrl');

  // mailto: link? Add body and subject.
  if (url.indexOf('mailto:') === 0) {
    url += '?subject=' + encodeURIComponent(shariff.getOption('mailSubject'));
    url += '&body=' + encodeURIComponent(shariff.getOption('mailBody').replace(/\{url\}/i, shariff.getURL()));
  }

  return {
    blank: url.indexOf('http') === 0,
    popup: false,
    shareText: {
      'en': 'mail',
      'zh': '分享'
    },
    name: 'mail',
    faName: 'fa-envelope',
    title: {
      'bg': 'Изпрати по имейл',
      'da': 'Sende via e-mail',
      'de': 'Per E-Mail versenden',
      'en': 'Send by email',
      'es': 'Enviar por email',
      'fi': 'Lähetä sähköpostitse',
      'fr': 'Envoyer par courriel',
      'hr': 'Pošaljite emailom',
      'hu': 'Elküldés e-mailben',
      'it': 'Inviare via email',
      'ja': '電子メールで送信',
      'ko': '이메일로 보내기',
      'nl': 'Sturen via e-mail',
      'no': 'Send via epost',
      'pl': 'Wyślij e-mailem',
      'pt': 'Enviar por e-mail',
      'ro': 'Trimite prin e-mail',
      'ru': 'Отправить по эл. почте',
      'sk': 'Poslať e-mailom',
      'sl': 'Pošlji po elektronski pošti',
      'sr': 'Pošalji putem email-a',
      'sv': 'Skicka via e-post',
      'tr': 'E-posta ile gönder',
      'zh': '通过电子邮件传送'
    },
    shareUrl: url
  };
};

},{}],17:[function(require,module,exports){
'use strict';

var url = require('url');

module.exports = function (shariff) {
  var title = shariff.getMeta('DC.title') || shariff.getTitle();
  var creator = shariff.getMeta('DC.creator');
  if (creator.length > 0) {
    title += ' - ' + creator;
  }
  var img = shariff.getOption('mediaUrl');
  if (!img || img.length <= 0) {
    img = shariff.getMeta('og:image');
  }

  var shareUrl = url.parse('https://www.pinterest.com/pin/create/link/', true);
  shareUrl.query.url = shariff.getURL();
  shareUrl.query.media = img;
  shareUrl.query.description = title;
  delete shareUrl.search;

  return {
    popup: true,
    shareText: 'pin it',
    name: 'pinterest',
    faName: 'fa-pinterest-p',
    title: {
      'de': 'Bei Pinterest pinnen',
      'en': 'Pin it on Pinterest',
      'es': 'Compartir en Pinterest',
      'fr': 'Partager sur Pinterest',
      'it': 'Condividi su Pinterest',
      'da': 'Del på Pinterest',
      'nl': 'Delen op Pinterest',
      'zh': '分享至Pinterest'
    },
    shareUrl: url.format(shareUrl) + shariff.getReferrerTrack()
  };
};

},{"url":5}],18:[function(require,module,exports){
/* jshint scripturl:true */
'use strict';

module.exports = function (shariff) {
  var url = 'javascript:window.print();';

  return {
    name: 'print',
    faName: 'fa-print',
    popup: false,
    shareText: {
      'bg': '',
      'da': '',
      'de': 'drucken',
      'en': 'print',
      'es': '',
      'fi': '',
      'fr': '',
      'hr': '',
      'hu': '',
      'it': '',
      'ja': '',
      'ko': '',
      'nl': '',
      'no': '',
      'pl': '',
      'pt': '',
      'ro': '',
      'ru': '',
      'sk': '',
      'sl': '',
      'sr': '',
      'sv': '',
      'tr': '',
      'zh': ''
    },
    title: {
      'bg': '',
      'da': '',
      'de': 'drucken',
      'en': 'print',
      'es': '',
      'fi': '',
      'fr': '',
      'hr': '',
      'hu': '',
      'it': '',
      'ja': '',
      'ko': '',
      'nl': '',
      'no': '',
      'pl': '',
      'pt': '',
      'ro': '',
      'ru': '',
      'sk': '',
      'sl': '',
      'sr': '',
      'sv': '',
      'tr': '',
      'zh': ''
    },
    shareUrl: url
  };
};

},{}],19:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'qzone',
    faName: 'fa-qq',
    title: {
      'de': 'Bei Qzone teilen',
      'en': 'Share on Qzone',
      'zh': '分享至QQ空间'
    },
    shareUrl: 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&title=' + title + shariff.getReferrerTrack()
  };
};

},{}],20:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  var title = encodeURIComponent(shariff.getTitle());

  if (title !== '') {
    title = '&title=' + title;
  }

  return {
    popup: true,
    shareText: {
      'de': 'teilen',
      'en': 'share',
      'zh': '分享'
    },
    name: 'reddit',
    faName: 'fa-reddit',
    title: {
      'de': 'Bei Reddit teilen',
      'en': 'Share on Reddit',
      'zh': '分享至Reddit'
    },
    shareUrl: 'https://reddit.com/submit?url=' + url + title + shariff.getReferrerTrack()
  };
};

},{}],21:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  var title = encodeURIComponent(shariff.getTitle());

  if (title !== '') {
    title = '&title=' + title;
  }

  return {
    popup: true,
    shareText: {
      'de': 'teilen',
      'en': 'share',
      'zh': '分享'
    },
    name: 'stumbleupon',
    faName: 'fa-stumbleupon',
    title: {
      'de': 'Bei Stumbleupon teilen',
      'en': 'Share on Stumbleupon',
      'zh': '分享至Stumbleupon'
    },
    shareUrl: 'https://www.stumbleupon.com/submit?url=' + url + title + shariff.getReferrerTrack()
  };
};

},{}],22:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'tencent-weibo',
    faName: 'fa-tencent-weibo',
    title: {
      'de': 'Bei tencent weibo teilen',
      'en': 'Share on tencent weibo',
      'zh': '分享至腾讯微博'
    },
    shareUrl: 'http://v.t.qq.com/share/share.php?url=' + url + '&title=' + title + shariff.getReferrerTrack()
  };
};

},{}],23:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: false,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'threema',
    faName: 'fa-lock',
    title: {
      'bg': 'Сподели в Threema',
      'da': 'Del på Threema',
      'de': 'Bei Threema teilen',
      'en': 'Share on Threema',
      'es': 'Compartir en Threema',
      'fi': 'Jaa Threemaissä',
      'fr': 'Partager sur Threema',
      'hr': 'Podijelite na Threema',
      'hu': 'Megosztás Threemaen',
      'it': 'Condividi su Threema',
      'ja': 'Threema上で共有',
      'ko': 'Threema에서 공유하기',
      'nl': 'Delen op Threema',
      'no': 'Del på Threema',
      'pl': 'Udostępnij przez Threema',
      'pt': 'Compartilhar no Threema',
      'ro': 'Partajează pe Threema',
      'ru': 'Поделиться на Threema',
      'sk': 'Zdieľať na Threema',
      'sl': 'Deli na Threema',
      'sr': 'Podeli na Threema-u',
      'sv': 'Dela på Threema',
      'tr': 'Threema\'ta paylaş',
      'zh': '在Threema上分享'
    },
    shareUrl: 'threema://compose?text=' + encodeURIComponent(title) + '%20' + url + shariff.getReferrerTrack()
  };
};

},{}],24:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'tumblr',
    faName: 'fa-tumblr',
    title: {
      'bg': 'Сподели в tumblr',
      'da': 'Del på tumblr',
      'de': 'Bei tumblr teilen',
      'en': 'Share on tumblr',
      'es': 'Compartir en tumblr',
      'fi': 'Jaa tumblrissä',
      'fr': 'Partager sur tumblr',
      'hr': 'Podijelite na tumblr',
      'hu': 'Megosztás tumblren',
      'it': 'Condividi su tumblr',
      'ja': 'tumblr上で共有',
      'ko': 'tumblr에서 공유하기',
      'nl': 'Delen op tumblr',
      'no': 'Del på tumblr',
      'pl': 'Udostępnij przez tumblr',
      'pt': 'Compartilhar no tumblr',
      'ro': 'Partajează pe tumblr',
      'ru': 'Поделиться на tumblr',
      'sk': 'Zdieľať na tumblr',
      'sl': 'Deli na tumblr',
      'sr': 'Podeli na tumblr-u',
      'sv': 'Dela på tumblr',
      'tr': 'tumblr\'ta paylaş',
      'zh': '在tumblr上分享'
    },
    shareUrl: 'http://tumblr.com/widgets/share/tool?canonicalUrl=' + url + shariff.getReferrerTrack()
  };
};

},{}],25:[function(require,module,exports){
'use strict';

var url = require('url');

// abbreviate at last blank before length and add "\u2026" (horizontal ellipsis)
var abbreviateText = function abbreviateText(text, length) {
  var div = document.createElement('div');
  div.innerHTML = text;
  var abbreviated = div.textContent;
  if (abbreviated.length <= length) {
    return text;
  }

  var lastWhitespaceIndex = abbreviated.substring(0, length - 1).lastIndexOf(' ');
  abbreviated = abbreviated.substring(0, lastWhitespaceIndex) + '\u2026';

  return abbreviated;
};

module.exports = function (shariff) {
  var shareUrl = url.parse('https://twitter.com/intent/tweet', true);

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  // 120 is the max character count left after twitters automatic url shortening with t.co
  shareUrl.query.text = abbreviateText(title, 120);
  shareUrl.query.url = shariff.getURL();
  if (shariff.options.twitterVia !== null) {
    shareUrl.query.via = shariff.options.twitterVia;
  }
  delete shareUrl.search;

  return {
    popup: true,
    shareText: {
      'en': 'tweet',
      'zh': '分享'
    },
    name: 'twitter',
    faName: 'fa-twitter',
    title: {
      'bg': 'Сподели в Twitter',
      'da': 'Del på Twitter',
      'de': 'Bei Twitter teilen',
      'en': 'Share on Twitter',
      'es': 'Compartir en Twitter',
      'fi': 'Jaa Twitterissä',
      'fr': 'Partager sur Twitter',
      'hr': 'Podijelite na Twitteru',
      'hu': 'Megosztás Twitteren',
      'it': 'Condividi su Twitter',
      'ja': 'ツイッター上で共有',
      'ko': '트위터에서 공유하기',
      'nl': 'Delen op Twitter',
      'no': 'Del på Twitter',
      'pl': 'Udostępnij na Twitterze',
      'pt': 'Compartilhar no Twitter',
      'ro': 'Partajează pe Twitter',
      'ru': 'Поделиться на Twitter',
      'sk': 'Zdieľať na Twitteri',
      'sl': 'Deli na Twitterju',
      'sr': 'Podeli na Twitter-u',
      'sv': 'Dela på Twitter',
      'tr': 'Twitter\'da paylaş',
      'zh': '在Twitter上分享'
    },
    // shareUrl: 'https://twitter.com/intent/tweet?text='+ shariff.getShareText() + '&url=' + url
    shareUrl: url.format(shareUrl) + shariff.getReferrerTrack()
  };
};

},{"url":5}],26:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: true,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'weibo',
    faName: 'fa-weibo',
    title: {
      'de': 'Bei weibo teilen',
      'en': 'Share on weibo',
      'zh': '分享至新浪微博'
    },
    shareUrl: 'http://service.weibo.com/share/share.php?url=' + url + '&title=' + title + shariff.getReferrerTrack()
  };
};

},{}],27:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());

  var title = shariff.getMeta('DC.title');
  var creator = shariff.getMeta('DC.creator');

  if (title.length > 0 && creator.length > 0) {
    title += ' - ' + creator;
  } else {
    title = shariff.getTitle();
  }

  return {
    popup: false,
    shareText: {
      'bg': 'cподеляне',
      'da': 'del',
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fi': 'Jaa',
      'fr': 'partager',
      'hr': 'podijelite',
      'hu': 'megosztás',
      'it': 'condividi',
      'ja': '共有',
      'ko': '공유하기',
      'nl': 'delen',
      'no': 'del',
      'pl': 'udostępnij',
      'pt': 'compartilhar',
      'ro': 'partajează',
      'ru': 'поделиться',
      'sk': 'zdieľať',
      'sl': 'deli',
      'sr': 'podeli',
      'sv': 'dela',
      'tr': 'paylaş',
      'zh': '分享'
    },
    name: 'whatsapp',
    faName: 'fa-whatsapp',
    title: {
      'bg': 'Сподели в Whatsapp',
      'da': 'Del på Whatsapp',
      'de': 'Bei Whatsapp teilen',
      'en': 'Share on Whatsapp',
      'es': 'Compartir en Whatsapp',
      'fi': 'Jaa WhatsAppissä',
      'fr': 'Partager sur Whatsapp',
      'hr': 'Podijelite na Whatsapp',
      'hu': 'Megosztás WhatsAppen',
      'it': 'Condividi su Whatsapp',
      'ja': 'Whatsapp上で共有',
      'ko': 'Whatsapp에서 공유하기',
      'nl': 'Delen op Whatsapp',
      'no': 'Del på Whatsapp',
      'pl': 'Udostępnij przez WhatsApp',
      'pt': 'Compartilhar no Whatsapp',
      'ro': 'Partajează pe Whatsapp',
      'ru': 'Поделиться на Whatsapp',
      'sk': 'Zdieľať na Whatsapp',
      'sl': 'Deli na Whatsapp',
      'sr': 'Podeli na WhatsApp-u',
      'sv': 'Dela på Whatsapp',
      'tr': 'Whatsapp\'ta paylaş',
      'zh': '在Whatsapp上分享'
    },
    shareUrl: 'whatsapp://send?text=' + encodeURIComponent(title) + '%20' + url + shariff.getReferrerTrack()
  };
};

},{}],28:[function(require,module,exports){
'use strict';

module.exports = function (shariff) {
  var url = encodeURIComponent(shariff.getURL());
  return {
    popup: true,
    shareText: {
      'de': 'teilen',
      'en': 'share',
      'es': 'compartir',
      'fr': 'partager',
      'it': 'condividi',
      'da': 'del',
      'nl': 'delen',
      'zh': '分享'
    },
    name: 'xing',
    faName: 'fa-xing',
    title: {
      'de': 'Bei XING teilen',
      'en': 'Share on XING',
      'es': 'Compartir en XING',
      'fr': 'Partager sur XING',
      'it': 'Condividi su XING',
      'da': 'Del på XING',
      'nl': 'Delen op XING',
      'zh': '分享至XING'
    },
    shareUrl: 'https://www.xing.com/social_plugins/share?url=' + url + shariff.getReferrerTrack()
  };
};

},{}],29:[function(require,module,exports){
(function (global){
'use strict';

// require('babel-polyfill')

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var $ = require('./dom');
var services = require('./services');
var url = require('url');

// Defaults may be overridden either by passing "options" to Shariff constructor
// or by setting data attributes.
var Defaults = {
  theme: 'color',

  // URL to backend that requests social counts. null means "disabled"
  backendUrl: null,

  // Link to the "about" page
  infoUrl: 'http://ct.de/-2467514',

  // localisation: "de" or "en"
  lang: 'de',

  // fallback language for not fully localized services
  langFallback: 'en',

  mailUrl: function mailUrl() {
    var shareUrl = url.parse(this.getURL(), true);
    shareUrl.query.view = 'mail';
    delete shareUrl.search;
    return url.format(shareUrl);
  },

  mailSubject: function mailSubject() {
    return this.getMeta('DC.title') || this.getTitle();
  },

  mailBody: function mailBody() {
    return this.getURL();
  },

  // Media (e.g. image) URL to be shared
  mediaUrl: null,

  // horizontal/vertical
  orientation: 'horizontal',

  // a string to suffix current URL
  referrerTrack: null,

  // services to be enabled in the following order
  services: ['twitter', 'facebook', 'googleplus', 'info'],

  title: function title() {
    return $('head title').text();
  },

  twitterVia: null,

  flattrUser: null,

  flattrCategory: null,

  // build URI from rel="canonical" or document.location
  url: function url() {
    var url = global.document.location.href;
    var canonical = $('link[rel=canonical]').attr('href') || this.getMeta('og:url') || '';

    if (canonical.length > 0) {
      if (canonical.indexOf('http') < 0) {
        canonical = global.document.location.protocol + '//' + global.document.location.host + canonical;
      }
      url = canonical;
    }

    return url;
  }
};

var Shariff = function () {
  function Shariff(element, options) {
    var _this = this;

    _classCallCheck(this, Shariff);

    // the DOM element that will contain the buttons
    this.element = element;

    // Ensure elemnt is empty
    $(element).empty();

    this.options = $.extend({}, Defaults, options, $(element).data());

    // filter available services to those that are enabled and initialize them
    this.services = Object.keys(services).filter(function (service) {
      return _this.isEnabledService(service);
    }).sort(function (a, b) {
      var services = _this.options.services;
      return services.indexOf(a) - services.indexOf(b);
    }).map(function (serviceName) {
      return services[serviceName](_this);
    });

    this._addButtonList();

    if (this.options.backendUrl !== null) {
      this.getShares(this._updateCounts.bind(this));
    }
  }

  _createClass(Shariff, [{
    key: 'isEnabledService',
    value: function isEnabledService(serviceName) {
      return this.options.services.indexOf(serviceName) > -1;
    }
  }, {
    key: '$socialshareElement',
    value: function $socialshareElement() {
      return $(this.element);
    }
  }, {
    key: 'getLocalized',
    value: function getLocalized(data, key) {
      if (_typeof(data[key]) === 'object') {
        if (typeof data[key][this.options.lang] === 'undefined') {
          return data[key][this.options.langFallback];
        } else {
          return data[key][this.options.lang];
        }
      } else if (typeof data[key] === 'string') {
        return data[key];
      }
      return undefined;
    }

    // returns content of <meta name="" content=""> tags or '' if empty/non existant

  }, {
    key: 'getMeta',
    value: function getMeta(name) {
      var metaContent = $('meta[name="' + name + '"],[property="' + name + '"]').attr('content');
      return metaContent || '';
    }
  }, {
    key: 'getInfoUrl',
    value: function getInfoUrl() {
      return this.options.infoUrl;
    }
  }, {
    key: 'getURL',
    value: function getURL() {
      return this.getOption('url');
    }
  }, {
    key: 'getOption',
    value: function getOption(name) {
      var option = this.options[name];
      return typeof option === 'function' ? option.call(this) : option;
    }
  }, {
    key: 'getTitle',
    value: function getTitle() {
      return this.getOption('title');
    }
  }, {
    key: 'getReferrerTrack',
    value: function getReferrerTrack() {
      return this.options.referrerTrack || '';
    }

    // returns shareCounts of document

  }, {
    key: 'getShares',
    value: function getShares(callback) {
      var baseUrl = url.parse(this.options.backendUrl, true);
      baseUrl.query.url = this.getURL();
      delete baseUrl.search;
      return $.getJSON(url.format(baseUrl), callback);
    }

    // add value of shares for each service

  }, {
    key: '_updateCounts',
    value: function _updateCounts(data, status, xhr) {
      var _this2 = this;

      if (!data) return;
      $.each(data, function (serviceName, value) {
        if (!_this2.isEnabledService(serviceName)) {
          return;
        }
        if (value >= 1000) {
          value = Math.round(value / 1000) + 'k';
        }
        $(_this2.element).find('.' + serviceName + ' a').append($('<span/>').addClass('share_count').text(value));
      });
    }

    // add html for button-container

  }, {
    key: '_addButtonList',
    value: function _addButtonList() {
      var _this3 = this;

      var $buttonList = $('<ul/>').addClass(['theme-' + this.options.theme, 'orientation-' + this.options.orientation, 'col-' + this.options.services.length].join(' '));

      // add html for service-links
      this.services.forEach(function (service) {
        var $li = $('<li/>').addClass('shariff-button ' + service.name);
        var $shareText = $('<span/>').addClass('share_text').text(_this3.getLocalized(service, 'shareText'));

        var $shareLink = $('<a/>').attr('href', service.shareUrl).append($shareText);

        if (typeof service.faName !== 'undefined') {
          $shareLink.prepend($('<span/>').addClass('fa ' + service.faName));
        }

        if (service.popup) {
          $shareLink.attr('data-rel', 'popup');
        } else if (service.blank) {
          $shareLink.attr('target', '_blank');
        }
        $shareLink.attr('title', _this3.getLocalized(service, 'title'));

        // add attributes for screen readers
        $shareLink.attr('role', 'button');
        $shareLink.attr('aria-label', _this3.getLocalized(service, 'title'));

        $li.append($shareLink);

        $buttonList.append($li);
      });

      // event delegation
      $buttonList.on('click', '[data-rel="popup"]', function (e) {
        e.preventDefault();

        var url = $(this).attr('href');

        // if a twitter widget is embedded on current site twitter's widget.js
        // will open a popup so we should not open a second one.
        if (url.match(/twitter\.com\/intent\/(\w+)/)) {
          var w = global.window;
          if (w.__twttr && w.__twttr.widgets && w.__twttr.widgets.loaded) {
            return;
          }
        }

        global.window.open(url, '_blank', 'width=600,height=460');
      });

      this.$socialshareElement().append($buttonList);
    }
  }]);

  return Shariff;
}();

module.exports = Shariff;

// export Shariff class to global (for non-Node users)
global.Shariff = Shariff;

$(function () {
  // initialize .shariff elements
  $('.shariff').each(function () {
    if (!this.hasOwnProperty('shariff')) {
      this.shariff = new Shariff(this);
    }
  });
});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./dom":7,"./services":13,"url":5}]},{},[29])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIm5vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvZW5jb2RlLmpzIiwibm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwibm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwic3JjL2pzL2RvbS5qcyIsInNyYy9qcy9zZXJ2aWNlcy9hZGR0aGlzLmpzIiwic3JjL2pzL3NlcnZpY2VzL2RpYXNwb3JhLmpzIiwic3JjL2pzL3NlcnZpY2VzL2ZhY2Vib29rLmpzIiwic3JjL2pzL3NlcnZpY2VzL2ZsYXR0ci5qcyIsInNyYy9qcy9zZXJ2aWNlcy9nb29nbGVwbHVzLmpzIiwic3JjL2pzL3NlcnZpY2VzL2luZGV4LmpzIiwic3JjL2pzL3NlcnZpY2VzL2luZm8uanMiLCJzcmMvanMvc2VydmljZXMvbGlua2VkaW4uanMiLCJzcmMvanMvc2VydmljZXMvbWFpbC5qcyIsInNyYy9qcy9zZXJ2aWNlcy9waW50ZXJlc3QuanMiLCJzcmMvanMvc2VydmljZXMvcHJpbnQuanMiLCJzcmMvanMvc2VydmljZXMvcXpvbmUuanMiLCJzcmMvanMvc2VydmljZXMvcmVkZGl0LmpzIiwic3JjL2pzL3NlcnZpY2VzL3N0dW1ibGV1cG9uLmpzIiwic3JjL2pzL3NlcnZpY2VzL3RlbmNlbnQtd2VpYm8uanMiLCJzcmMvanMvc2VydmljZXMvdGhyZWVtYS5qcyIsInNyYy9qcy9zZXJ2aWNlcy90dW1ibHIuanMiLCJzcmMvanMvc2VydmljZXMvdHdpdHRlci5qcyIsInNyYy9qcy9zZXJ2aWNlcy93ZWliby5qcyIsInNyYy9qcy9zZXJ2aWNlcy93aGF0c2FwcC5qcyIsInNyYy9qcy9zZXJ2aWNlcy94aW5nLmpzIiwic3JjL2pzL3NoYXJpZmYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDcmhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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LEVBQWdFO0FBQzlEO0FBQ0Q7QUFDRjs7QUFFRCxlQUFPLE1BQVAsQ0FBYyxJQUFkLENBQW1CLEdBQW5CLEVBQXdCLFFBQXhCLEVBQWtDLHNCQUFsQztBQUNELE9BZkQ7O0FBaUJBLFdBQUssbUJBQUwsR0FBMkIsTUFBM0IsQ0FBa0MsV0FBbEM7QUFDRDs7Ozs7O0FBR0gsT0FBTyxPQUFQLEdBQWlCLE9BQWpCOztBQUVBO0FBQ0EsT0FBTyxPQUFQLEdBQWlCLE9BQWpCOztBQUVBLEVBQUUsWUFBVztBQUNYO0FBQ0EsSUFBRSxVQUFGLEVBQWMsSUFBZCxDQUFtQixZQUFXO0FBQzVCLFFBQUksQ0FBQyxLQUFLLGNBQUwsQ0FBb0IsU0FBcEIsQ0FBTCxFQUFxQztBQUNuQyxXQUFLLE9BQUwsR0FBZSxJQUFJLE9BQUosQ0FBWSxJQUFaLENBQWY7QUFDRDtBQUNGLEdBSkQ7QUFLRCxDQVBEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qISBodHRwczovL210aHMuYmUvcHVueWNvZGUgdjEuNC4xIGJ5IEBtYXRoaWFzICovXG47KGZ1bmN0aW9uKHJvb3QpIHtcblxuXHQvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGVzICovXG5cdHZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiZcblx0XHQhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXHR2YXIgZnJlZU1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmXG5cdFx0IW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cdHZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWw7XG5cdGlmIChcblx0XHRmcmVlR2xvYmFsLmdsb2JhbCA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC5zZWxmID09PSBmcmVlR2xvYmFsXG5cdCkge1xuXHRcdHJvb3QgPSBmcmVlR2xvYmFsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBgcHVueWNvZGVgIG9iamVjdC5cblx0ICogQG5hbWUgcHVueWNvZGVcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqL1xuXHR2YXIgcHVueWNvZGUsXG5cblx0LyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXHRtYXhJbnQgPSAyMTQ3NDgzNjQ3LCAvLyBha2EuIDB4N0ZGRkZGRkYgb3IgMl4zMS0xXG5cblx0LyoqIEJvb3RzdHJpbmcgcGFyYW1ldGVycyAqL1xuXHRiYXNlID0gMzYsXG5cdHRNaW4gPSAxLFxuXHR0TWF4ID0gMjYsXG5cdHNrZXcgPSAzOCxcblx0ZGFtcCA9IDcwMCxcblx0aW5pdGlhbEJpYXMgPSA3Mixcblx0aW5pdGlhbE4gPSAxMjgsIC8vIDB4ODBcblx0ZGVsaW1pdGVyID0gJy0nLCAvLyAnXFx4MkQnXG5cblx0LyoqIFJlZ3VsYXIgZXhwcmVzc2lvbnMgKi9cblx0cmVnZXhQdW55Y29kZSA9IC9eeG4tLS8sXG5cdHJlZ2V4Tm9uQVNDSUkgPSAvW15cXHgyMC1cXHg3RV0vLCAvLyB1bnByaW50YWJsZSBBU0NJSSBjaGFycyArIG5vbi1BU0NJSSBjaGFyc1xuXHRyZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nLCAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cblx0LyoqIEVycm9yIG1lc3NhZ2VzICovXG5cdGVycm9ycyA9IHtcblx0XHQnb3ZlcmZsb3cnOiAnT3ZlcmZsb3c6IGlucHV0IG5lZWRzIHdpZGVyIGludGVnZXJzIHRvIHByb2Nlc3MnLFxuXHRcdCdub3QtYmFzaWMnOiAnSWxsZWdhbCBpbnB1dCA+PSAweDgwIChub3QgYSBiYXNpYyBjb2RlIHBvaW50KScsXG5cdFx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcblx0fSxcblxuXHQvKiogQ29udmVuaWVuY2Ugc2hvcnRjdXRzICovXG5cdGJhc2VNaW51c1RNaW4gPSBiYXNlIC0gdE1pbixcblx0Zmxvb3IgPSBNYXRoLmZsb29yLFxuXHRzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuXG5cdC8qKiBUZW1wb3JhcnkgdmFyaWFibGUgKi9cblx0a2V5O1xuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgZXJyb3IgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVGhlIGVycm9yIHR5cGUuXG5cdCAqIEByZXR1cm5zIHtFcnJvcn0gVGhyb3dzIGEgYFJhbmdlRXJyb3JgIHdpdGggdGhlIGFwcGxpY2FibGUgZXJyb3IgbWVzc2FnZS5cblx0ICovXG5cdGZ1bmN0aW9uIGVycm9yKHR5cGUpIHtcblx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihlcnJvcnNbdHlwZV0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBgQXJyYXkjbWFwYCB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnkgYXJyYXlcblx0ICogaXRlbS5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwKGFycmF5LCBmbikge1xuXHRcdHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xuXHRcdHdoaWxlIChsZW5ndGgtLSkge1xuXHRcdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIHNpbXBsZSBgQXJyYXkjbWFwYC1saWtlIHdyYXBwZXIgdG8gd29yayB3aXRoIGRvbWFpbiBuYW1lIHN0cmluZ3Mgb3IgZW1haWxcblx0ICogYWRkcmVzc2VzLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gZG9tYWluIFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcblx0ICogY2hhcmFjdGVyLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IHN0cmluZyBvZiBjaGFyYWN0ZXJzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFja1xuXHQgKiBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcERvbWFpbihzdHJpbmcsIGZuKSB7XG5cdFx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdFx0dmFyIHJlc3VsdCA9ICcnO1xuXHRcdGlmIChwYXJ0cy5sZW5ndGggPiAxKSB7XG5cdFx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0XHQvLyB0aGUgbG9jYWwgcGFydCAoaS5lLiBldmVyeXRoaW5nIHVwIHRvIGBAYCkgaW50YWN0LlxuXHRcdFx0cmVzdWx0ID0gcGFydHNbMF0gKyAnQCc7XG5cdFx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0XHR9XG5cdFx0Ly8gQXZvaWQgYHNwbGl0KHJlZ2V4KWAgZm9yIElFOCBjb21wYXRpYmlsaXR5LiBTZWUgIzE3LlxuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdFx0dmFyIGxhYmVscyA9IHN0cmluZy5zcGxpdCgnLicpO1xuXHRcdHZhciBlbmNvZGVkID0gbWFwKGxhYmVscywgZm4pLmpvaW4oJy4nKTtcblx0XHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG5cdCAqIGNoYXJhY3RlciBpbiB0aGUgc3RyaW5nLiBXaGlsZSBKYXZhU2NyaXB0IHVzZXMgVUNTLTIgaW50ZXJuYWxseSxcblx0ICogdGhpcyBmdW5jdGlvbiB3aWxsIGNvbnZlcnQgYSBwYWlyIG9mIHN1cnJvZ2F0ZSBoYWx2ZXMgKGVhY2ggb2Ygd2hpY2hcblx0ICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG5cdCAqIG1hdGNoaW5nIFVURi0xNi5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5lbmNvZGVgXG5cdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBkZWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cblx0ICogQHJldHVybnMge0FycmF5fSBUaGUgbmV3IGFycmF5IG9mIGNvZGUgcG9pbnRzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGNvdW50ZXIgPSAwLFxuXHRcdCAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuXHRcdCAgICB2YWx1ZSxcblx0XHQgICAgZXh0cmE7XG5cdFx0d2hpbGUgKGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdHZhbHVlID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdGlmICh2YWx1ZSA+PSAweEQ4MDAgJiYgdmFsdWUgPD0gMHhEQkZGICYmIGNvdW50ZXIgPCBsZW5ndGgpIHtcblx0XHRcdFx0Ly8gaGlnaCBzdXJyb2dhdGUsIGFuZCB0aGVyZSBpcyBhIG5leHQgY2hhcmFjdGVyXG5cdFx0XHRcdGV4dHJhID0gc3RyaW5nLmNoYXJDb2RlQXQoY291bnRlcisrKTtcblx0XHRcdFx0aWYgKChleHRyYSAmIDB4RkMwMCkgPT0gMHhEQzAwKSB7IC8vIGxvdyBzdXJyb2dhdGVcblx0XHRcdFx0XHRvdXRwdXQucHVzaCgoKHZhbHVlICYgMHgzRkYpIDw8IDEwKSArIChleHRyYSAmIDB4M0ZGKSArIDB4MTAwMDApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIHVubWF0Y2hlZCBzdXJyb2dhdGU7IG9ubHkgYXBwZW5kIHRoaXMgY29kZSB1bml0LCBpbiBjYXNlIHRoZSBuZXh0XG5cdFx0XHRcdFx0Ly8gY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0O1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHNlZSBgcHVueWNvZGUudWNzMi5kZWNvZGVgXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGVuY29kZVxuXHQgKiBAcGFyYW0ge0FycmF5fSBjb2RlUG9pbnRzIFRoZSBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgbmV3IFVuaWNvZGUgc3RyaW5nIChVQ1MtMikuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdFx0cmV0dXJuIG1hcChhcnJheSwgZnVuY3Rpb24odmFsdWUpIHtcblx0XHRcdHZhciBvdXRwdXQgPSAnJztcblx0XHRcdGlmICh2YWx1ZSA+IDB4RkZGRikge1xuXHRcdFx0XHR2YWx1ZSAtPSAweDEwMDAwO1xuXHRcdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKTtcblx0XHRcdFx0dmFsdWUgPSAweERDMDAgfCB2YWx1ZSAmIDB4M0ZGO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSk7XG5cdFx0XHRyZXR1cm4gb3V0cHV0O1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cblx0ICogQHNlZSBgZGlnaXRUb0Jhc2ljKClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50IChmb3IgdXNlIGluXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaW4gdGhlIHJhbmdlIGAwYCB0byBgYmFzZSAtIDFgLCBvciBgYmFzZWAgaWZcblx0ICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG5cdCAqL1xuXHRmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdFx0aWYgKGNvZGVQb2ludCAtIDQ4IDwgMTApIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSAyMjtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDY1IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA2NTtcblx0XHR9XG5cdFx0aWYgKGNvZGVQb2ludCAtIDk3IDwgMjYpIHtcblx0XHRcdHJldHVybiBjb2RlUG9pbnQgLSA5Nztcblx0XHR9XG5cdFx0cmV0dXJuIGJhc2U7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBkaWdpdC9pbnRlZ2VyIGludG8gYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGRpZ2l0IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3Jcblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpcyBgZGlnaXRgLCB3aGljaCBuZWVkcyB0byBiZSBpbiB0aGUgcmFuZ2Vcblx0ICogYDBgIHRvIGBiYXNlIC0gMWAuIElmIGBmbGFnYCBpcyBub24temVybywgdGhlIHVwcGVyY2FzZSBmb3JtIGlzXG5cdCAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG5cdCAqIGlmIGBmbGFnYCBpcyBub24temVybyBhbmQgYGRpZ2l0YCBoYXMgbm8gdXBwZXJjYXNlIGZvcm0uXG5cdCAqL1xuXHRmdW5jdGlvbiBkaWdpdFRvQmFzaWMoZGlnaXQsIGZsYWcpIHtcblx0XHQvLyAgMC4uMjUgbWFwIHRvIEFTQ0lJIGEuLnogb3IgQS4uWlxuXHRcdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRcdHJldHVybiBkaWdpdCArIDIyICsgNzUgKiAoZGlnaXQgPCAyNikgLSAoKGZsYWcgIT0gMCkgPDwgNSk7XG5cdH1cblxuXHQvKipcblx0ICogQmlhcyBhZGFwdGF0aW9uIGZ1bmN0aW9uIGFzIHBlciBzZWN0aW9uIDMuNCBvZiBSRkMgMzQ5Mi5cblx0ICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHRcdHZhciBrID0gMDtcblx0XHRkZWx0YSA9IGZpcnN0VGltZSA/IGZsb29yKGRlbHRhIC8gZGFtcCkgOiBkZWx0YSA+PiAxO1xuXHRcdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0XHRmb3IgKC8qIG5vIGluaXRpYWxpemF0aW9uICovOyBkZWx0YSA+IGJhc2VNaW51c1RNaW4gKiB0TWF4ID4+IDE7IGsgKz0gYmFzZSkge1xuXHRcdFx0ZGVsdGEgPSBmbG9vcihkZWx0YSAvIGJhc2VNaW51c1RNaW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmxvb3IoayArIChiYXNlTWludXNUTWluICsgMSkgKiBkZWx0YSAvIChkZWx0YSArIHNrZXcpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMgdG8gYSBzdHJpbmcgb2YgVW5pY29kZVxuXHQgKiBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0XHQvLyBEb24ndCB1c2UgVUNTLTJcblx0XHR2YXIgb3V0cHV0ID0gW10sXG5cdFx0ICAgIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoLFxuXHRcdCAgICBvdXQsXG5cdFx0ICAgIGkgPSAwLFxuXHRcdCAgICBuID0gaW5pdGlhbE4sXG5cdFx0ICAgIGJpYXMgPSBpbml0aWFsQmlhcyxcblx0XHQgICAgYmFzaWMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIGluZGV4LFxuXHRcdCAgICBvbGRpLFxuXHRcdCAgICB3LFxuXHRcdCAgICBrLFxuXHRcdCAgICBkaWdpdCxcblx0XHQgICAgdCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGJhc2VNaW51c1Q7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzOiBsZXQgYGJhc2ljYCBiZSB0aGUgbnVtYmVyIG9mIGlucHV0IGNvZGVcblx0XHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHRcdC8vIHRoZSBmaXJzdCBiYXNpYyBjb2RlIHBvaW50cyB0byB0aGUgb3V0cHV0LlxuXG5cdFx0YmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRcdGlmIChiYXNpYyA8IDApIHtcblx0XHRcdGJhc2ljID0gMDtcblx0XHR9XG5cblx0XHRmb3IgKGogPSAwOyBqIDwgYmFzaWM7ICsraikge1xuXHRcdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0XHRpZiAoaW5wdXQuY2hhckNvZGVBdChqKSA+PSAweDgwKSB7XG5cdFx0XHRcdGVycm9yKCdub3QtYmFzaWMnKTtcblx0XHRcdH1cblx0XHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZGVjb2RpbmcgbG9vcDogc3RhcnQganVzdCBhZnRlciB0aGUgbGFzdCBkZWxpbWl0ZXIgaWYgYW55IGJhc2ljIGNvZGVcblx0XHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdFx0Zm9yIChpbmRleCA9IGJhc2ljID4gMCA/IGJhc2ljICsgMSA6IDA7IGluZGV4IDwgaW5wdXRMZW5ndGg7IC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi8pIHtcblxuXHRcdFx0Ly8gYGluZGV4YCBpcyB0aGUgaW5kZXggb2YgdGhlIG5leHQgY2hhcmFjdGVyIHRvIGJlIGNvbnN1bWVkLlxuXHRcdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdFx0Ly8gd2hpY2ggZ2V0cyBhZGRlZCB0byBgaWAuIFRoZSBvdmVyZmxvdyBjaGVja2luZyBpcyBlYXNpZXJcblx0XHRcdC8vIGlmIHdlIGluY3JlYXNlIGBpYCBhcyB3ZSBnbywgdGhlbiBzdWJ0cmFjdCBvZmYgaXRzIHN0YXJ0aW5nXG5cdFx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdFx0Zm9yIChvbGRpID0gaSwgdyA9IDEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXG5cdFx0XHRcdGlmIChpbmRleCA+PSBpbnB1dExlbmd0aCkge1xuXHRcdFx0XHRcdGVycm9yKCdpbnZhbGlkLWlucHV0Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkaWdpdCA9IGJhc2ljVG9EaWdpdChpbnB1dC5jaGFyQ29kZUF0KGluZGV4KyspKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpICs9IGRpZ2l0ICogdztcblx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRpZiAodyA+IGZsb29yKG1heEludCAvIGJhc2VNaW51c1QpKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR3ICo9IGJhc2VNaW51c1Q7XG5cblx0XHRcdH1cblxuXHRcdFx0b3V0ID0gb3V0cHV0Lmxlbmd0aCArIDE7XG5cdFx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdFx0Ly8gYGlgIHdhcyBzdXBwb3NlZCB0byB3cmFwIGFyb3VuZCBmcm9tIGBvdXRgIHRvIGAwYCxcblx0XHRcdC8vIGluY3JlbWVudGluZyBgbmAgZWFjaCB0aW1lLCBzbyB3ZSdsbCBmaXggdGhhdCBub3c6XG5cdFx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRuICs9IGZsb29yKGkgLyBvdXQpO1xuXHRcdFx0aSAlPSBvdXQ7XG5cblx0XHRcdC8vIEluc2VydCBgbmAgYXQgcG9zaXRpb24gYGlgIG9mIHRoZSBvdXRwdXRcblx0XHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblxuXHRcdH1cblxuXHRcdHJldHVybiB1Y3MyZW5jb2RlKG91dHB1dCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzIChlLmcuIGEgZG9tYWluIG5hbWUgbGFiZWwpIHRvIGFcblx0ICogUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZW5jb2RlKGlucHV0KSB7XG5cdFx0dmFyIG4sXG5cdFx0ICAgIGRlbHRhLFxuXHRcdCAgICBoYW5kbGVkQ1BDb3VudCxcblx0XHQgICAgYmFzaWNMZW5ndGgsXG5cdFx0ICAgIGJpYXMsXG5cdFx0ICAgIGosXG5cdFx0ICAgIG0sXG5cdFx0ICAgIHEsXG5cdFx0ICAgIGssXG5cdFx0ICAgIHQsXG5cdFx0ICAgIGN1cnJlbnRWYWx1ZSxcblx0XHQgICAgb3V0cHV0ID0gW10sXG5cdFx0ICAgIC8qKiBgaW5wdXRMZW5ndGhgIHdpbGwgaG9sZCB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIGluIGBpbnB1dGAuICovXG5cdFx0ICAgIGlucHV0TGVuZ3RoLFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgaGFuZGxlZENQQ291bnRQbHVzT25lLFxuXHRcdCAgICBiYXNlTWludXNULFxuXHRcdCAgICBxTWludXNUO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgaW5wdXQgaW4gVUNTLTIgdG8gVW5pY29kZVxuXHRcdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0XHQvLyBDYWNoZSB0aGUgbGVuZ3RoXG5cdFx0aW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XG5cblx0XHQvLyBJbml0aWFsaXplIHRoZSBzdGF0ZVxuXHRcdG4gPSBpbml0aWFsTjtcblx0XHRkZWx0YSA9IDA7XG5cdFx0YmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50c1xuXHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCAweDgwKSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShjdXJyZW50VmFsdWUpKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoID0gb3V0cHV0Lmxlbmd0aDtcblxuXHRcdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHRcdC8vIGBiYXNpY0xlbmd0aGAgaXMgdGhlIG51bWJlciBvZiBiYXNpYyBjb2RlIHBvaW50cy5cblxuXHRcdC8vIEZpbmlzaCB0aGUgYmFzaWMgc3RyaW5nIC0gaWYgaXQgaXMgbm90IGVtcHR5IC0gd2l0aCBhIGRlbGltaXRlclxuXHRcdGlmIChiYXNpY0xlbmd0aCkge1xuXHRcdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGVuY29kaW5nIGxvb3A6XG5cdFx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdFx0Ly8gQWxsIG5vbi1iYXNpYyBjb2RlIHBvaW50cyA8IG4gaGF2ZSBiZWVuIGhhbmRsZWQgYWxyZWFkeS4gRmluZCB0aGUgbmV4dFxuXHRcdFx0Ly8gbGFyZ2VyIG9uZTpcblx0XHRcdGZvciAobSA9IG1heEludCwgaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID49IG4gJiYgY3VycmVudFZhbHVlIDwgbSkge1xuXHRcdFx0XHRcdG0gPSBjdXJyZW50VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gSW5jcmVhc2UgYGRlbHRhYCBlbm91Z2ggdG8gYWR2YW5jZSB0aGUgZGVjb2RlcidzIDxuLGk+IHN0YXRlIHRvIDxtLDA+LFxuXHRcdFx0Ly8gYnV0IGd1YXJkIGFnYWluc3Qgb3ZlcmZsb3dcblx0XHRcdGhhbmRsZWRDUENvdW50UGx1c09uZSA9IGhhbmRsZWRDUENvdW50ICsgMTtcblx0XHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZWx0YSArPSAobSAtIG4pICogaGFuZGxlZENQQ291bnRQbHVzT25lO1xuXHRcdFx0biA9IG07XG5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBpbnB1dExlbmd0aDsgKytqKSB7XG5cdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPCBuICYmICsrZGVsdGEgPiBtYXhJbnQpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyXG5cdFx0XHRcdFx0Zm9yIChxID0gZGVsdGEsIGsgPSBiYXNlOyAvKiBubyBjb25kaXRpb24gKi87IGsgKz0gYmFzZSkge1xuXHRcdFx0XHRcdFx0dCA9IGsgPD0gYmlhcyA/IHRNaW4gOiAoayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcyk7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRxTWludXNUID0gcSAtIHQ7XG5cdFx0XHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdFx0XHRvdXRwdXQucHVzaChcblx0XHRcdFx0XHRcdFx0c3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyh0ICsgcU1pbnVzVCAlIGJhc2VNaW51c1QsIDApKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdHEgPSBmbG9vcihxTWludXNUIC8gYmFzZU1pbnVzVCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGRpZ2l0VG9CYXNpYyhxLCAwKSkpO1xuXHRcdFx0XHRcdGJpYXMgPSBhZGFwdChkZWx0YSwgaGFuZGxlZENQQ291bnRQbHVzT25lLCBoYW5kbGVkQ1BDb3VudCA9PSBiYXNpY0xlbmd0aCk7XG5cdFx0XHRcdFx0ZGVsdGEgPSAwO1xuXHRcdFx0XHRcdCsraGFuZGxlZENQQ291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0KytkZWx0YTtcblx0XHRcdCsrbjtcblxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3Ncblx0ICogdG8gVW5pY29kZS4gT25seSB0aGUgUHVueWNvZGVkIHBhcnRzIG9mIHRoZSBpbnB1dCB3aWxsIGJlIGNvbnZlcnRlZCwgaS5lLlxuXHQgKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cblx0ICogY29udmVydGVkIHRvIFVuaWNvZGUuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIGNvbnZlcnQgdG8gVW5pY29kZS5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFVuaWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIFB1bnljb2RlXG5cdCAqIHN0cmluZy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFVuaWNvZGUgc3RyaW5nIHJlcHJlc2VudGluZyBhIGRvbWFpbiBuYW1lIG9yIGFuIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG5cdCAqIGkuZS4gaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0J3MgYWxyZWFkeSBpblxuXHQgKiBBU0NJSS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0byBjb252ZXJ0LCBhcyBhXG5cdCAqIFVuaWNvZGUgc3RyaW5nLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG5cdCAqIGVtYWlsIGFkZHJlc3MuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b0FTQ0lJKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhOb25BU0NJSS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyAneG4tLScgKyBlbmNvZGUoc3RyaW5nKVxuXHRcdFx0XHQ6IHN0cmluZztcblx0XHR9KTtcblx0fVxuXG5cdC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cdC8qKiBEZWZpbmUgdGhlIHB1YmxpYyBBUEkgKi9cblx0cHVueWNvZGUgPSB7XG5cdFx0LyoqXG5cdFx0ICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IFB1bnljb2RlLmpzIHZlcnNpb24gbnVtYmVyLlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIFN0cmluZ1xuXHRcdCAqL1xuXHRcdCd2ZXJzaW9uJzogJzEuNC4xJyxcblx0XHQvKipcblx0XHQgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuXHRcdCAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG5cdFx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgT2JqZWN0XG5cdFx0ICovXG5cdFx0J3VjczInOiB7XG5cdFx0XHQnZGVjb2RlJzogdWNzMmRlY29kZSxcblx0XHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdFx0fSxcblx0XHQnZGVjb2RlJzogZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiBlbmNvZGUsXG5cdFx0J3RvQVNDSUknOiB0b0FTQ0lJLFxuXHRcdCd0b1VuaWNvZGUnOiB0b1VuaWNvZGVcblx0fTtcblxuXHQvKiogRXhwb3NlIGBwdW55Y29kZWAgKi9cblx0Ly8gU29tZSBBTUQgYnVpbGQgb3B0aW1pemVycywgbGlrZSByLmpzLCBjaGVjayBmb3Igc3BlY2lmaWMgY29uZGl0aW9uIHBhdHRlcm5zXG5cdC8vIGxpa2UgdGhlIGZvbGxvd2luZzpcblx0aWYgKFxuXHRcdHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdHR5cGVvZiBkZWZpbmUuYW1kID09ICdvYmplY3QnICYmXG5cdFx0ZGVmaW5lLmFtZFxuXHQpIHtcblx0XHRkZWZpbmUoJ3B1bnljb2RlJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fSk7XG5cdH0gZWxzZSBpZiAoZnJlZUV4cG9ydHMgJiYgZnJlZU1vZHVsZSkge1xuXHRcdGlmIChtb2R1bGUuZXhwb3J0cyA9PSBmcmVlRXhwb3J0cykge1xuXHRcdFx0Ly8gaW4gTm9kZS5qcywgaW8uanMsIG9yIFJpbmdvSlMgdjAuOC4wK1xuXHRcdFx0ZnJlZU1vZHVsZS5leHBvcnRzID0gcHVueWNvZGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGluIE5hcndoYWwgb3IgUmluZ29KUyB2MC43LjAtXG5cdFx0XHRmb3IgKGtleSBpbiBwdW55Y29kZSkge1xuXHRcdFx0XHRwdW55Y29kZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIChmcmVlRXhwb3J0c1trZXldID0gcHVueWNvZGVba2V5XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIGluIFJoaW5vIG9yIGEgd2ViIGJyb3dzZXJcblx0XHRyb290LnB1bnljb2RlID0gcHVueWNvZGU7XG5cdH1cblxufSh0aGlzKSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuZGVjb2RlID0gZXhwb3J0cy5wYXJzZSA9IHJlcXVpcmUoJy4vZGVjb2RlJyk7XG5leHBvcnRzLmVuY29kZSA9IGV4cG9ydHMuc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9lbmNvZGUnKTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24jUG9seWZpbGxcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAvLyBqc2hpbnQgbWF4ZGVwdGg6NFxuICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24odGFyZ2V0LCB2YXJBcmdzKSB7IC8vIC5sZW5ndGggb2YgZnVuY3Rpb24gaXMgMlxuICAgIGlmICh0YXJnZXQgPT09IG51bGwpIHsgLy8gVHlwZUVycm9yIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKVxuICAgIH1cblxuICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpXG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdXG5cbiAgICAgIGlmIChuZXh0U291cmNlICE9PSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvXG4gIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiBoZWxwZXIuIFRoaXMgbWV0aG9kIGlzIHRoaXMgbW9kdWxlJ3MgZXhwb3J0ZWQgZW50cnkgcG9pbnQuXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheXxFbGVtZW50fSBzZWxlY3RvciAtIGNzcyBzZWxlY3Rvciwgb25lIGVsZW1lbnQsIGFycmF5IG9mIG5vZGVzIG9yIGh0bWwgZnJhZ21lbnRcbiAqIEBwYXJhbSB7bm9kZX0gW2NvbnRleHQ9ZG9jdW1lbnRdIC0gY29udGV4dCBub2RlIGluIHdoaWNoIHRvIHF1ZXJ5XG4gKiBAcmV0dXJucyB7RE9NUXVlcnl9IEEgRE9NUXVlcnkgaW5zdGFuY2UgY29udGFpbmluZyB0aGUgc2VsZWN0ZWQgc2V0IG9mIG5vZGVzXG4gKi9cbmZ1bmN0aW9uIGRxKHNlbGVjdG9yLCBjb250ZXh0KSB7XG4gIHZhciBub2RlcyA9IFtdXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50XG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoY29udGV4dC5hdHRhY2hFdmVudCA/IGNvbnRleHQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyA6IGNvbnRleHQucmVhZHlTdGF0ZSAhPT0gJ2xvYWRpbmcnKSB7XG4gICAgICBzZWxlY3RvcigpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHNlbGVjdG9yKVxuICAgIH1cbiAgfSBlbHNlIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICBub2RlcyA9IFsgc2VsZWN0b3IgXVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAoc2VsZWN0b3JbMF0gPT09ICc8Jykge1xuICAgICAgbm9kZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcmFnbWVudChzZWxlY3RvcikpXG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSlcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbm9kZXMgPSBzZWxlY3RvclxuICB9XG4gIHJldHVybiBuZXcgRE9NUXVlcnkobm9kZXMsIGNvbnRleHQpXG59XG5cbi8qKlxuICogQ29udGFpbnMgYSBzZXQgb2YgRE9NIG5vZGVzIGFuZCBwcm92aWRlcyBtZXRob2RzIHRvIG1hbmlwdWxhdGUgdGhlIG5vZGVzLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERPTVF1ZXJ5KGVsZW1lbnRzLCBjb250ZXh0KSB7XG4gIHRoaXMubGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoXG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHRcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIGVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGkpIHsgc2VsZltpXSA9IHRoaXMgfSlcbn1cblxuLyoqXG4gKiBJdGVyYXRlcyB0aHJvdWdoIGVhY2ggbm9kZSBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrIGluIGl0cyBjb250ZXh0LlxuICogQHBhcmFtIHtlYWNoQXJyYXlDYWxsYmFja30gY2FsbGJhY2sgLSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aXRoIGEgbm9kZVxuICogQHJldHVybnMge0RPTVF1ZXJ5fVxuICovXG5ET01RdWVyeS5wcm90b3R5cGUuZWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzW2ldLCBpLCB0aGlzW2ldKVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbi8qKlxuICogRW1wdGllcyBlYWNoIG5vZGUuXG4gKiBAcmV0dXJucyB7RE9NUXVlcnl9XG4gKi9cbkRPTVF1ZXJ5LnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGVtcHR5KVxufVxuXG4vKipcbiAqIFNldHMgdGhlIHRleHQgY29udGVudCBvZiBlYWNoIG5vZGUuIFJldHVybnMgdGhlIHRleHQgY29udGVudCBvZiB0aGUgZmlyc3Qgbm9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdGV4dF0gLSBUaGUgdGV4dCBjb250ZW50IHRvIHNldFxuICogQHJldHVybnMge0RPTVF1ZXJ5fHN0cmluZ31cbiAqL1xuRE9NUXVlcnkucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIGlmICh0ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGhpc1swXS50ZXh0Q29udGVudFxuICB9XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgeyB0aGlzLnRleHRDb250ZW50ID0gdGV4dCB9KVxufVxuXG4vKipcbiAqIFNldHMgYW4gYXR0cmlidXRlIG9uIGVhY2ggbm9kZS4gUmV0dXJucyB0aGUgYXR0cmlidXRlJ3MgdmFsdWUgb2YgdGhlIGZpcnN0IG5vZGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW25hbWVdIC0gVGhlIGF0dHJpYnV0ZSdzIG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmFsdWVdIC0gVGhlIHZhbHVlIHRvIHNldFxuICogQHJldHVybnMge0RPTVF1ZXJ5fHN0cmluZ31cbiAqL1xuRE9NUXVlcnkucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgaWYgKHRoaXMubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGhpc1swXS5nZXRBdHRyaWJ1dGUobmFtZSlcbiAgfVxuICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgeyB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkgfSlcbn1cblxuLyoqXG4gKiBTZXRzIGEgZGF0YSBhdHRyaWJ1dGUgb24gZWFjaCBub2RlLiBSZXR1cm5zIHRoZSBkYXRhIGF0dHJpYnV0ZSdzIHZhbHVlIG9mIHRoZSBmaXJzdCBub2RlLlxuICogU3VwcG9ydHMgZGVzZXJpYWxpemF0aW9uIG9mIGNvbXBsZXggZGF0YSB0eXBlcyBhcyB2YWx1ZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2tleV0gLSBUaGUgYXR0cmlidXRlJ3MgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV0gLSBUaGUgdmFsdWUgdG8gc2V0XG4gKiBAcmV0dXJucyB7RE9NUXVlcnl8c3RyaW5nfE9iamVjdH1cbiAqL1xuRE9NUXVlcnkucHJvdG90eXBlLmRhdGEgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmF0dHIoJ2RhdGEtJyArIGtleSwgdmFsdWUpXG4gIH1cbiAgaWYgKGtleSkge1xuICAgIHJldHVybiB0aGlzLmF0dHIoJ2RhdGEtJyArIGtleSlcbiAgfVxuICB2YXIgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXNbMF0uZGF0YXNldClcbiAgZWFjaChkYXRhLCBmdW5jdGlvbihrLCB2KSB7IGRhdGFba10gPSBkZXNlcmlhbGl6ZVZhbHVlKHYpIH0pXG4gIHJldHVybiBkYXRhXG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBET01RdWVyeSBpbnN0YW5jZSBjb250YWluaW5nIGFsbCBtYXRjaGVkIG5vZGVzIGluIHRoZSBjb250ZXh0XG4gKiBvZiB0aGUgc2V0IG9mIG5vZGVzLlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvclxuICogQHJldHVybnMge0RPTVF1ZXJ5fVxuICovXG5ET01RdWVyeS5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHZhciBtYXRjaGVzXG4gIC8vIHF1ZXJ5U2VsZWN0b3JBbGwgaW4gdGhlIGNvbnRleHQgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXRcbiAgbWF0Y2hlcyA9IG1hcCh0aGlzLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZWwucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikgfSlcbiAgLy8gY29udmVydCBOb2RlTGlzdCBtYXRjaGVzIGludG8gQXJyYXlcbiAgbWF0Y2hlcyA9IG1hcChtYXRjaGVzLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZWwpIH0pXG4gIC8vIGZsYXR0ZW4gdGhlIGFycmF5XG4gIG1hdGNoZXMgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBtYXRjaGVzKVxuICByZXR1cm4gbmV3IERPTVF1ZXJ5KG1hdGNoZXMpXG59XG5cbi8qKlxuICogQXBwZW5kcyBub2RlcyB0byB0aGUgZW5kIG9mIHRoZSBmaXJzdCBub2RlIGluIHRoZSBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gaHRtbCAtIE5vZGVzIHRvIGFwcGVuZC4gTWF5IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgSFRNTC5cbiAqIEByZXR1cm5zIHtET01RdWVyeX1cbiAqL1xuRE9NUXVlcnkucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xuICAgIGh0bWwgPSBmcmFnbWVudChodG1sKVxuICB9XG4gIGFwcGVuZCh0aGlzWzBdLCBodG1sKVxuICByZXR1cm4gdGhpc1xufVxuXG4vKipcbiAqIFByZXBlbmRzIG5vZGVzIGF0IHRoZSB0b3Agb2YgdGhlIGZpcnN0IG5vZGUgaW4gdGhlIHNldC5cbiAqIEBwYXJhbSB7c3RyaW5nfEFycmF5fSBodG1sIC0gTm9kZXMgdG8gYXBwZW5kLiBNYXkgYmUgYSBzdHJpbmcgY29udGFpbmluZyBIVE1MLlxuICogQHJldHVybnMge0RPTVF1ZXJ5fVxuICovXG5ET01RdWVyeS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xuICAgIGh0bWwgPSBmcmFnbWVudChodG1sKVxuICB9XG4gIHByZXBlbmQodGhpc1swXSwgaHRtbClcbiAgcmV0dXJuIHRoaXNcbn1cblxuLyoqXG4gKiBBZGRzIGEgQ1NTIGNsYXNzIG5hbWUgdG8gdGhlIG5vZGVzIGluIHRoZSBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIENsYXNzIG5hbWUgdG8gYWRkXG4gKiBAcmV0dXJucyB7RE9NUXVlcnl9XG4gKi9cbkRPTVF1ZXJ5LnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uKG5hbWVzKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7IHRoaXMuY2xhc3NMaXN0LmFkZCguLi5uYW1lcy5zcGxpdCgnICcpKSB9KVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYSBDU1MgY2xhc3MgbmFtZSBmcm9tIHRoZSBub2RlcyBpbiB0aGUgc2V0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBDbGFzcyBuYW1lIHRvIHJlbW92ZVxuICogQHJldHVybnMge0RPTVF1ZXJ5fVxuICovXG5ET01RdWVyeS5wcm90b3R5cGUucmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7IHRoaXMuY2xhc3NMaXN0LnJlbW92ZShuYW1lKSB9KVxufVxuXG4vKipcbiAqIERlbGVnYXRlcyBhbiBldmVudCBmb3IgYSBub2RlIG1hdGNoaW5nIGEgc2VsZWN0b3IgdG8gZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBUaGUgZXZlbnQgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvclxuICogQHBhcmFtIHtldmVudEhhbmRsZXJ9IGhhbmRsZXIgLSBUaGUgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICogQHJldHVybnMge0RPTVF1ZXJ5fVxuICovXG5ET01RdWVyeS5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudCwgc2VsZWN0b3IsIGhhbmRsZXIpIHtcbiAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICBkZWxlZ2F0ZUV2ZW50KHNlbGVjdG9yLCBldmVudCwgaGFuZGxlciwgdGhpcylcbiAgfSlcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGVhY2ggY2hpbGQgb2YgYSBub2RlLlxuICogQHByaXZhdGVcbiAqL1xudmFyIGVtcHR5ID0gZnVuY3Rpb24gKCkge1xuICB3aGlsZSAodGhpcy5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuZmlyc3RDaGlsZClcbiAgfVxufVxuXG4vKipcbiAqIENhbGxiYWNrIGZ1bmN0aW9uIHVzZWQgZm9yIG1hcChhcnJheSwgY2FsbGJhY2spLlxuICpcbiAqIEBjYWxsYmFjayBtYXBDYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCAtIEFuIGVsZW1lbnQgb2YgdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBzZWUgbWFwXG4gKi9cblxuLyoqXG4gKiBSdW5zIGEgY2FsbGJhY2sgd2l0aCBlYWNoIGVsZW1lbnQgaW4gYW4gYXJyYXkgYW5kIHJldHVybnMgYSBuZXcgYXJyYXkuXG4gKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIC0gVGhlIGFycmF5IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbnZhciBtYXAgPSBmdW5jdGlvbiAob2JqZWN0cywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChvYmplY3RzLCBjYWxsYmFjaylcbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmdW5jdGlvbiB1c2VkIGZvciBlYWNoKGFycmF5LCBjYWxsYmFjaykuXG4gKiBDYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBhcnJheS5cbiAqXG4gKiBAY2FsbGJhY2sgZWFjaEFycmF5Q2FsbGJhY2tcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIEluZGV4IG9mIHRoZSBjdXJyZW50IGFycmF5IGVsZW1lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZSAtIEVsZW1lbnQgb2YgdGhlIGFycmF5XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBzZWUgZWFjaFxuICovXG5cbi8qKlxuICogQ2FsbGJhY2sgZnVuY3Rpb24gdXNlZCBmb3IgZWFjaChvYmplY3QsIGNhbGxiYWNrKS5cbiAqIENhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBlYWNoIG9iamVjdCBwcm9wZXJ0eSB2YWx1ZS5cbiAqXG4gKiBAY2FsbGJhY2sgZWFjaE9iamVjdENhbGxiYWNrXG4gKiBAcGFyYW0ge09iamVjdH0ga2V5IC0gVGhlIG9iamVjdCdzIHByb3BlcnR5IGtleVxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlIC0gVGhlIG9iamVjdCdzIHByb3BlcnR5IHZhbHVlXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBzZWUgZWFjaFxuICovXG5cbi8qKlxuICogUnVucyBhIGNhbGxiYWNrIHdpdGggZWFjaCBlbGVtZW50IGluIGFuIGFycmF5IG9yIGtleS12YWx1ZSBwYWlyIG9mIGFuIG9iamVjdC5cbiAqIFJldHVybnMgdGhlIG9yaWdpbmFsIG9iamVjdC9hcnJheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGl0cmF0ZVxuICogQHBhcmFtIHtlYWNoQXJyYXlDYWxsYmFja3xlYWNoT2JqZWN0Q2FsbGJhY2t9IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbnZhciBlYWNoID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwob2JqZWN0W2ldLCBpLCBvYmplY3RbaV0pXG4gICAgfVxuICB9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSB7XG4gICAgICBjYWxsYmFjay5jYWxsKG9iamVjdFtwcm9wXSwgcHJvcCwgb2JqZWN0W3Byb3BdLCBvYmplY3QpXG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Rcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIEhUTUwgbm9kZXMgZnJvbSBhIHN0cmluZyBvZiBIVE1MLlxuICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgLSBTdHJpbmcgb2YgSFRNTCBjb2RlXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgZnJhZ21lbnQgPSBmdW5jdGlvbiAoaHRtbCkge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgZGl2LmlubmVySFRNTCA9IGh0bWxcbiAgcmV0dXJuIGRpdi5jaGlsZHJlblxufVxuXG4vKipcbiAqIEFwcGVuZHMgYW4gYXJyYXkgb2Ygbm9kZXMgdG8gdGhlIGVuZCBvZiBhbiBIVE1MIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHBhcmVudCAtIEVsZW1lbnQgdG8gYXBwZW5kIHRvXG4gKiBAcGFyYW0ge0FycmF5fSBub2RlcyAtIENvbGxlY3Rpb24gb2Ygbm9kZXMgdG8gYXBwZW5kXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgYXBwZW5kID0gZnVuY3Rpb24gKHBhcmVudCwgbm9kZXMpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIHBhcmVudC5hcHBlbmRDaGlsZChub2Rlc1tpXSlcbiAgfVxufVxuXG4vKipcbiAqIFByZXBlbmRzIGFuIGFycmF5IG9mIG5vZGVzIHRvIHRoZSB0b3Agb2YgYW4gSFRNTCBlbGVtZW50LlxuICogQHBhcmFtIHtFbGVtZW50fSBwYXJlbnQgLSBFbGVtZW50IHRvIHByZXBlbmQgdG9cbiAqIEBwYXJhbSB7QXJyYXl9IG5vZGVzIC0gQ29sbGVjdGlvbiBvZiBub2RlcyB0byBwcmVwZW5kXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgcHJlcGVuZCA9IGZ1bmN0aW9uIChwYXJlbnQsIG5vZGVzKSB7XG4gIGZvciAodmFyIGkgPSBub2Rlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0sIHBhcmVudC5maXJzdENoaWxkKVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY2xvc2VzdCBwYXJlbnQgb2YgYSBub2RlIG1hdGNoaW5nIGEgQ1NTIHNlbGVjdG9yLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwZW5kIHRvXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3JcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vRGFuaWVsLUh1Zy9hYmJkZWQ5MWRkNTU0NjZlNTkwYn1cbiAqL1xudmFyIGNsb3Nlc3QgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBlbGVtZW50ID0gSFRNTEVsZW1lbnQucHJvdG90eXBlXG4gIHZhciBtYXRjaGVzID0gZWxlbWVudC5tYXRjaGVzIHx8XG4gICAgZWxlbWVudC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBlbGVtZW50Lm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgIGVsZW1lbnQubXNNYXRjaGVzU2VsZWN0b3JcblxuICByZXR1cm4gZnVuY3Rpb24gY2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSByZXR1cm5cbiAgICByZXR1cm4gbWF0Y2hlcy5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKVxuICAgICAgPyBlbGVtZW50XG4gICAgICA6IGNsb3Nlc3QoZWxlbWVudC5wYXJlbnRFbGVtZW50LCBzZWxlY3RvcilcbiAgfVxufSkoKVxuXG4vKipcbiAqIEFuIGV2ZW50IGhhbmRsZXIuXG4gKlxuICogQGNhbGxiYWNrIGV2ZW50SGFuZGxlclxuICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgdGhpcyBoYW5kbGVyIHdhcyB0cmlnZ2VyZWQgZm9yXG4gKi9cblxuLyoqXG4gKiBEZWxlZ2F0ZXMgYW4gZXZlbnQgZm9yIGEgbm9kZSBtYXRjaGluZyBhIHNlbGVjdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvclxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IG5hbWVcbiAqIEBwYXJhbSB7ZXZlbnRIYW5kbGVyfSBoYW5kbGVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtzY29wZT1kb2N1bWVudF0gLSBFbGVtZW50IHRvIGFkZCB0aGUgZXZlbnQgbGlzdGVuZXIgdG9cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBkZWxlZ2F0ZUV2ZW50ID0gZnVuY3Rpb24gKHNlbGVjdG9yLCBldmVudCwgaGFuZGxlciwgc2NvcGUpIHtcbiAgKHNjb3BlIHx8IGRvY3VtZW50KS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBsaXN0ZW5pbmdUYXJnZXQgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgc2VsZWN0b3IpXG4gICAgaWYgKGxpc3RlbmluZ1RhcmdldCkge1xuICAgICAgaGFuZGxlci5jYWxsKGxpc3RlbmluZ1RhcmdldCwgZXZlbnQpXG4gICAgfVxuICB9KVxufVxuXG4vKipcbiAqIEV4dGVuZHMgcHJvcGVydGllcyBvZiBhbGwgYXJndW1lbnRzIGludG8gYSBzaW5nbGUgb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IG9iamVjdHMgLSBPYmplY3RzIHRvIG1lcmdlXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgLSBUaGUgZXZlbnQgbmFtZVxuICogQHBhcmFtIHtmdW5jdGlvbn0gaGFuZGxlciAtIFRoZSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9nb21ha2V0aGluZ3MuY29tL3ZhbmlsbGEtamF2YXNjcmlwdC12ZXJzaW9uLW9mLWpxdWVyeS1leHRlbmQvfVxuICovXG52YXIgZXh0ZW5kID0gZnVuY3Rpb24gKG9iamVjdHMpIHtcbiAgLy8gVmFyaWFibGVzXG4gIHZhciBleHRlbmRlZCA9IHt9XG4gIHZhciBkZWVwID0gZmFsc2VcbiAgdmFyIGkgPSAwXG4gIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG5cbiAgLy8gQ2hlY2sgaWYgYSBkZWVwIG1lcmdlXG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzWzBdKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nKSB7XG4gICAgZGVlcCA9IGFyZ3VtZW50c1swXVxuICAgIGkrK1xuICB9XG5cbiAgLy8gTWVyZ2UgdGhlIG9iamVjdCBpbnRvIHRoZSBleHRlbmRlZCBvYmplY3RcbiAgdmFyIG1lcmdlID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgLy8gSWYgZGVlcCBtZXJnZSBhbmQgcHJvcGVydHkgaXMgYW4gb2JqZWN0LCBtZXJnZSBwcm9wZXJ0aWVzXG4gICAgICAgIGlmIChkZWVwICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmpbcHJvcF0pID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICAgIGV4dGVuZGVkW3Byb3BdID0gZXh0ZW5kKHRydWUsIGV4dGVuZGVkW3Byb3BdLCBvYmpbcHJvcF0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXh0ZW5kZWRbcHJvcF0gPSBvYmpbcHJvcF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIExvb3AgdGhyb3VnaCBlYWNoIG9iamVjdCBhbmQgY29uZHVjdCBhIG1lcmdlXG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgb2JqID0gYXJndW1lbnRzW2ldXG4gICAgbWVyZ2Uob2JqKVxuICB9XG5cbiAgcmV0dXJuIGV4dGVuZGVkXG59XG5cbi8qKlxuICogVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciBnZXRKU09OKCkuXG4gKlxuICogQGNhbGxiYWNrIHhockNhbGxiYWNrXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN1Y2Nlc3MgLSBUcnVlIG9uIHN1Y2Nlc3MuIEZhbHNlIG9uIGVycm9yLlxuICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBUaGUgcGFyc2VkIGRhdGEuIG51bGwgaWYgc3VjY2VzcyA9PSBmYWxzZVxuICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyIC0gVGhlIHJlcXVlc3Qgb2JqZWN0XG4gKiBAc2VlIGdldEpTT05cbiAqL1xuXG4vKipcbiAqIFJ1bnMgYW4gQWpheCByZXF1ZXN0IGFnYWluc3QgYSB1cmwgYW5kIGNhbGxzIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoXG4gKiB0aGUgcGFyc2VkIEpTT04gcmVzdWx0LlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gcmVxdWVzdFxuICogQHBhcmFtIHt4aHJDYWxsYmFja30gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtYTUxIdHRwUmVxdWVzdH1cbiAqL1xudmFyIGdldEpTT04gPSBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykge1xuICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSlcbiAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJylcbiAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJylcblxuICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCA0MDApIHtcbiAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KVxuICAgICAgY2FsbGJhY2soZGF0YSwgeGhyLnN0YXR1cywgeGhyKVxuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB4aHIuc3RhdHVzLCB4aHIpXG4gICAgfVxuICB9XG5cbiAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbihlKSB7XG4gICAgY2FsbGJhY2sobmV3IEVycm9yKGUpLCBudWxsLCB4aHIpXG4gIH1cblxuICB4aHIuc2VuZCgpXG59XG5cbi8qKlxuICogRGVzZXJpYWxpemVzIEpTT04gdmFsdWVzIGZyb20gc3RyaW5ncy4gVXNlZCB3aXRoIGRhdGEgYXR0cmlidXRlcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFN0cmluZyB0byBwYXJzZVxuICogQHJldHVybnMge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBkZXNlcmlhbGl6ZVZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIC8qIGpzaGludCBtYXhjb21wbGV4aXR5OjcgKi9cbiAgLy8gYm9vbGVhblxuICBpZiAodmFsdWUgPT09ICd0cnVlJykgeyByZXR1cm4gdHJ1ZSB9XG4gIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJykgeyByZXR1cm4gZmFsc2UgfVxuICAvLyBudWxsXG4gIGlmICh2YWx1ZSA9PT0gJ251bGwnKSB7IHJldHVybiBudWxsIH1cbiAgLy8gbnVtYmVyXG4gIGlmICgrdmFsdWUgKyAnJyA9PT0gdmFsdWUpIHsgcmV0dXJuICt2YWx1ZSB9XG4gIC8vIGpzb25cbiAgaWYgKC9eW1t7XS8udGVzdCh2YWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfVxuICB9XG4gIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICByZXR1cm4gdmFsdWVcbn1cblxuZHEuZXh0ZW5kID0gZXh0ZW5kXG5kcS5tYXAgPSBtYXBcbmRxLmVhY2ggPSBlYWNoXG5kcS5nZXRKU09OID0gZ2V0SlNPTlxuXG5tb2R1bGUuZXhwb3J0cyA9IGRxXG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRVUkwoKSlcbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdiZyc6ICdj0L/QvtC00LXQu9GP0L3QtScsXG4gICAgICAnZGEnOiAnZGVsJyxcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICdlcyc6ICdjb21wYXJ0aXInLFxuICAgICAgJ2ZpJzogJ0phYScsXG4gICAgICAnZnInOiAncGFydGFnZXInLFxuICAgICAgJ2hyJzogJ3BvZGlqZWxpdGUnLFxuICAgICAgJ2h1JzogJ21lZ29zenTDoXMnLFxuICAgICAgJ2l0JzogJ2NvbmRpdmlkaScsXG4gICAgICAnamEnOiAn5YWx5pyJJyxcbiAgICAgICdrbyc6ICfqs7XsnKDtlZjquLAnLFxuICAgICAgJ25sJzogJ2RlbGVuJyxcbiAgICAgICdubyc6ICdkZWwnLFxuICAgICAgJ3BsJzogJ3Vkb3N0xJlwbmlqJyxcbiAgICAgICdwdCc6ICdjb21wYXJ0aWxoYXInLFxuICAgICAgJ3JvJzogJ3BhcnRhamVhesSDJyxcbiAgICAgICdydSc6ICfQv9C+0LTQtdC70LjRgtGM0YHRjycsXG4gICAgICAnc2snOiAnemRpZcS+YcWlJyxcbiAgICAgICdzbCc6ICdkZWxpJyxcbiAgICAgICdzcic6ICdwb2RlbGknLFxuICAgICAgJ3N2JzogJ2RlbGEnLFxuICAgICAgJ3RyJzogJ3BheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICdhZGR0aGlzJyxcbiAgICBmYU5hbWU6ICdmYS1wbHVzJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2JnJzogJ9Ch0L/QvtC00LXQu9C4INCyIEFkZFRoaXMnLFxuICAgICAgJ2RhJzogJ0RlbCBww6UgQWRkVGhpcycsXG4gICAgICAnZGUnOiAnQmVpIEFkZFRoaXMgdGVpbGVuJyxcbiAgICAgICdlbic6ICdTaGFyZSBvbiBBZGRUaGlzJyxcbiAgICAgICdlcyc6ICdDb21wYXJ0aXIgZW4gQWRkVGhpcycsXG4gICAgICAnZmknOiAnSmFhIEFkZFRoaXNpc3PDpCcsXG4gICAgICAnZnInOiAnUGFydGFnZXIgc3VyIEFkZFRoaXMnLFxuICAgICAgJ2hyJzogJ1BvZGlqZWxpdGUgbmEgQWRkVGhpcycsXG4gICAgICAnaHUnOiAnTWVnb3N6dMOhcyBBZGRUaGlzZW4nLFxuICAgICAgJ2l0JzogJ0NvbmRpdmlkaSBzdSBBZGRUaGlzJyxcbiAgICAgICdqYSc6ICdBZGRUaGlz5LiK44Gn5YWx5pyJJyxcbiAgICAgICdrbyc6ICdBZGRUaGlz7JeQ7IScIOqzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgQWRkVGhpcycsXG4gICAgICAnbm8nOiAnRGVsIHDDpSBBZGRUaGlzJyxcbiAgICAgICdwbCc6ICdVZG9zdMSZcG5paiBwcnpleiBBZGRUaGlzJyxcbiAgICAgICdwdCc6ICdDb21wYXJ0aWxoYXIgbm8gQWRkVGhpcycsXG4gICAgICAncm8nOiAnUGFydGFqZWF6xIMgcGUgQWRkVGhpcycsXG4gICAgICAncnUnOiAn0J/QvtC00LXQu9C40YLRjNGB0Y8g0L3QsCBBZGRUaGlzJyxcbiAgICAgICdzayc6ICdaZGllxL5hxaUgbmEgQWRkVGhpcycsXG4gICAgICAnc2wnOiAnRGVsaSBuYSBBZGRUaGlzJyxcbiAgICAgICdzcic6ICdQb2RlbGkgbmEgQWRkVGhpcycsXG4gICAgICAnc3YnOiAnRGVsYSBww6UgQWRkVGhpcycsXG4gICAgICAndHInOiAnQWRkVGhpc1xcJ3RhIHBheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WcqEFkZFRoaXPkuIrliIbkuqsnXG4gICAgfSxcbiAgICBzaGFyZVVybDogJ2h0dHA6Ly9hcGkuYWRkdGhpcy5jb20vb2V4Y2hhbmdlLzAuOC9vZmZlcj91cmw9JyArIHVybCArIHNoYXJpZmYuZ2V0UmVmZXJyZXJUcmFjaygpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgdXJsID0gcmVxdWlyZSgndXJsJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciBzaGFyZVVybCA9IHVybC5wYXJzZSgnaHR0cHM6Ly9zaGFyZS5kaWFzcG9yYWZvdW5kYXRpb24ub3JnLycsIHRydWUpXG4gIHNoYXJlVXJsLnF1ZXJ5LnVybCA9IHNoYXJpZmYuZ2V0VVJMKClcbiAgc2hhcmVVcmwucXVlcnkudGl0bGUgPSBzaGFyaWZmLmdldFRpdGxlKCkgfHwgc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpXG4gIHNoYXJlVXJsLnByb3RvY29sID0gJ2h0dHBzJ1xuICBkZWxldGUgc2hhcmVVcmwuc2VhcmNoXG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICd6aCc6ICfliIbkuqsnXG4gICAgfSxcbiAgICBuYW1lOiAnZGlhc3BvcmEnLFxuICAgIGZhTmFtZTogJ2ZhLWFzdGVyaXNrJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2RlJzogJ0JlaSBEaWFzcG9yYSB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIERpYXNwb3JhJyxcbiAgICAgICd6aCc6ICfliIbkuqvoh7NEaWFzcG9yYSdcbiAgICB9LFxuICAgIHNoYXJlVXJsOiB1cmwuZm9ybWF0KHNoYXJlVXJsKSArIHNoYXJpZmYuZ2V0UmVmZXJyZXJUcmFjaygpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9IGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLmdldFVSTCgpKVxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2JnJzogJ2PQv9C+0LTQtdC70Y/QvdC1JyxcbiAgICAgICdkYSc6ICdkZWwnLFxuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZmknOiAnSmFhJyxcbiAgICAgICdmcic6ICdwYXJ0YWdlcicsXG4gICAgICAnaHInOiAncG9kaWplbGl0ZScsXG4gICAgICAnaHUnOiAnbWVnb3N6dMOhcycsXG4gICAgICAnaXQnOiAnY29uZGl2aWRpJyxcbiAgICAgICdqYSc6ICflhbHmnIknLFxuICAgICAgJ2tvJzogJ+qzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnZGVsZW4nLFxuICAgICAgJ25vJzogJ2RlbCcsXG4gICAgICAncGwnOiAndWRvc3TEmXBuaWonLFxuICAgICAgJ3B0JzogJ2NvbXBhcnRpbGhhcicsXG4gICAgICAncm8nOiAncGFydGFqZWF6xIMnLFxuICAgICAgJ3J1JzogJ9C/0L7QtNC10LvQuNGC0YzRgdGPJyxcbiAgICAgICdzayc6ICd6ZGllxL5hxaUnLFxuICAgICAgJ3NsJzogJ2RlbGknLFxuICAgICAgJ3NyJzogJ3BvZGVsaScsXG4gICAgICAnc3YnOiAnZGVsYScsXG4gICAgICAndHInOiAncGF5bGHFnycsXG4gICAgICAnemgnOiAn5YiG5LqrJ1xuICAgIH0sXG4gICAgbmFtZTogJ2ZhY2Vib29rJyxcbiAgICBmYU5hbWU6ICdmYS1mYWNlYm9vaycsXG4gICAgdGl0bGU6IHtcbiAgICAgICdiZyc6ICfQodC/0L7QtNC10LvQuCDQstGK0LIgRmFjZWJvb2snLFxuICAgICAgJ2RhJzogJ0RlbCBww6UgRmFjZWJvb2snLFxuICAgICAgJ2RlJzogJ0JlaSBGYWNlYm9vayB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIEZhY2Vib29rJyxcbiAgICAgICdlcyc6ICdDb21wYXJ0aXIgZW4gRmFjZWJvb2snLFxuICAgICAgJ2ZpJzogJ0phYSBGYWNlYm9va2lzc2EnLFxuICAgICAgJ2ZyJzogJ1BhcnRhZ2VyIHN1ciBGYWNlYm9vaycsXG4gICAgICAnaHInOiAnUG9kaWplbGl0ZSBuYSBGYWNlYm9va3UnLFxuICAgICAgJ2h1JzogJ01lZ29zenTDoXMgRmFjZWJvb2tvbicsXG4gICAgICAnaXQnOiAnQ29uZGl2aWRpIHN1IEZhY2Vib29rJyxcbiAgICAgICdqYSc6ICfjg5XjgqfjgqTjgrnjg5bjg4Pjgq/kuIrjgaflhbHmnIknLFxuICAgICAgJ2tvJzogJ+2OmOydtOyKpOu2geyXkOyEnCDqs7XsnKDtlZjquLAnLFxuICAgICAgJ25sJzogJ0RlbGVuIG9wIEZhY2Vib29rJyxcbiAgICAgICdubyc6ICdEZWwgcMOlIEZhY2Vib29rJyxcbiAgICAgICdwbCc6ICdVZG9zdMSZcG5paiBuYSBGYWNlYm9va3UnLFxuICAgICAgJ3B0JzogJ0NvbXBhcnRpbGhhciBubyBGYWNlYm9vaycsXG4gICAgICAncm8nOiAnUGFydGFqZWF6xIMgcGUgRmFjZWJvb2snLFxuICAgICAgJ3J1JzogJ9Cf0L7QtNC10LvQuNGC0YzRgdGPINC90LAgRmFjZWJvb2snLFxuICAgICAgJ3NrJzogJ1pkaWXEvmHFpSBuYSBGYWNlYm9va3UnLFxuICAgICAgJ3NsJzogJ0RlbGkgbmEgRmFjZWJvb2t1JyxcbiAgICAgICdzcic6ICdQb2RlbGkgbmEgRmFjZWJvb2stdScsXG4gICAgICAnc3YnOiAnRGVsYSBww6UgRmFjZWJvb2snLFxuICAgICAgJ3RyJzogJ0ZhY2Vib29rXFwndGEgcGF5bGHFnycsXG4gICAgICAnemgnOiAn5ZyoRmFjZWJvb2vkuIrliIbkuqsnLFxuICAgIH0sXG4gICAgc2hhcmVVcmw6ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vc2hhcmVyL3NoYXJlci5waHA/dT0nICsgdXJsICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2hhcmlmZikge1xuICB2YXIgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0VVJMKCkpXG4gIHZhciB0aXRsZSA9IHNoYXJpZmYuZ2V0TWV0YSgnREMudGl0bGUnKVxuICB2YXIgY3JlYXRvciA9IHNoYXJpZmYuZ2V0TWV0YSgnREMuY3JlYXRvcicpXG4gIHZhciBkZXNjcmlwdGlvbiA9IHNoYXJpZmYuZ2V0TWV0YSgnZGVzY3JpcHRpb24nKVxuXG4gIGlmICh0aXRsZS5sZW5ndGggPiAwICYmIGNyZWF0b3IubGVuZ3RoID4gMCkge1xuICAgIHRpdGxlICs9ICcgLSAnICsgY3JlYXRvclxuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gc2hhcmlmZi5nZXRUaXRsZSgpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDogJ0ZsYXR0cicsXG4gICAgbmFtZTogJ2ZsYXR0cicsXG4gICAgZmFOYW1lOiAnZmEtbW9uZXknLFxuICAgIHRpdGxlOiB7XG4gICAgICAnZGUnOiAnQXJ0aWtlbCBmbGF0dHJuJyxcbiAgICAgICdlbic6ICdGbGF0dHIgdGhpcydcbiAgICB9LFxuICAgIHNoYXJlVXJsOiAnaHR0cHM6Ly9mbGF0dHIuY29tL3N1Ym1pdC9hdXRvP3RpdGxlPScgKyBlbmNvZGVVUklDb21wb25lbnQodGl0bGUpICsgJyZkZXNjcmlwdGlvbj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGRlc2NyaXB0aW9uKSArICcmY2F0ZWdvcnk9JyArIGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLm9wdGlvbnMuZmxhdHRyQ2F0ZWdvcnkgfHwgJ3RleHQnKSArICcmdXNlcl9pZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYub3B0aW9ucy5mbGF0dHJVc2VyKSArICcmdXJsPScgKyB1cmwgKyBzaGFyaWZmLmdldFJlZmVycmVyVHJhY2soKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRVUkwoKSlcbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdiZyc6ICdj0L/QvtC00LXQu9GP0L3QtScsXG4gICAgICAnZGEnOiAnZGVsJyxcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICdlcyc6ICdjb21wYXJ0aXInLFxuICAgICAgJ2ZpJzogJ0phYScsXG4gICAgICAnZnInOiAncGFydGFnZXInLFxuICAgICAgJ2hyJzogJ3BvZGlqZWxpdGUnLFxuICAgICAgJ2h1JzogJ21lZ29zenTDoXMnLFxuICAgICAgJ2l0JzogJ2NvbmRpdmlkaScsXG4gICAgICAnamEnOiAn5YWx5pyJJyxcbiAgICAgICdrbyc6ICfqs7XsnKDtlZjquLAnLFxuICAgICAgJ25sJzogJ2RlbGVuJyxcbiAgICAgICdubyc6ICdkZWwnLFxuICAgICAgJ3BsJzogJ3Vkb3N0xJlwbmlqJyxcbiAgICAgICdwdCc6ICdjb21wYXJ0aWxoYXInLFxuICAgICAgJ3JvJzogJ3BhcnRhamVhesSDJyxcbiAgICAgICdydSc6ICfQv9C+0LTQtdC70LjRgtGM0YHRjycsXG4gICAgICAnc2snOiAnemRpZcS+YcWlJyxcbiAgICAgICdzbCc6ICdkZWxpJyxcbiAgICAgICdzcic6ICdwb2RlbGknLFxuICAgICAgJ3N2JzogJ2RlbGEnLFxuICAgICAgJ3RyJzogJ3BheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICdnb29nbGVwbHVzJyxcbiAgICBmYU5hbWU6ICdmYS1nb29nbGUtcGx1cycsXG4gICAgdGl0bGU6IHtcbiAgICAgICdiZyc6ICfQodC/0L7QtNC10LvQuCDQsiBHb29nbGUrJyxcbiAgICAgICdkYSc6ICdEZWwgcMOlIEdvb2dsZSsnLFxuICAgICAgJ2RlJzogJ0JlaSBHb29nbGUrIHRlaWxlbicsXG4gICAgICAnZW4nOiAnU2hhcmUgb24gR29vZ2xlKycsXG4gICAgICAnZXMnOiAnQ29tcGFydGlyIGVuIEdvb2dsZSsnLFxuICAgICAgJ2ZpJzogJ0phYSBHb29nbGUrOnNzYScsXG4gICAgICAnZnInOiAnUGFydGFnZXIgc3VyIEdvb2xnZSsnLFxuICAgICAgJ2hyJzogJ1BvZGlqZWxpdGUgbmEgR29vZ2xlKycsXG4gICAgICAnaHUnOiAnTWVnb3N6dMOhcyBHb29nbGUrb24nLFxuICAgICAgJ2l0JzogJ0NvbmRpdmlkaSBzdSBHb29nbGUrJyxcbiAgICAgICdqYSc6ICdHb29nbGUr5LiK44Gn5YWx5pyJJyxcbiAgICAgICdrbyc6ICdHb29nbGUr7JeQ7IScIOqzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgR29vZ2xlKycsXG4gICAgICAnbm8nOiAnRGVsIHDDpSBHb29nbGUrJyxcbiAgICAgICdwbCc6ICdVZG9zdMSZcG5paiBuYSBHb29nbGUrJyxcbiAgICAgICdwdCc6ICdDb21wYXJ0aWxoYXIgbm8gR29vZ2xlKycsXG4gICAgICAncm8nOiAnUGFydGFqZWF6xIMgcGUgR29vZ2xlKycsXG4gICAgICAncnUnOiAn0J/QvtC00LXQu9C40YLRjNGB0Y8g0L3QsCBHb29nbGUrJyxcbiAgICAgICdzayc6ICdaZGllxL5hxaUgbmEgR29vZ2xlKycsXG4gICAgICAnc2wnOiAnRGVsaSBuYSBHb29nbGUrJyxcbiAgICAgICdzcic6ICdQb2RlbGkgbmEgR29vZ2xlKycsXG4gICAgICAnc3YnOiAnRGVsYSBww6UgR29vZ2xlKycsXG4gICAgICAndHInOiAnR29vZ2xlK1xcJ2RhIHBheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WcqEdvb2dsZSvkuIrliIbkuqsnXG4gICAgfSxcbiAgICBzaGFyZVVybDogJ2h0dHBzOi8vcGx1cy5nb29nbGUuY29tL3NoYXJlP3VybD0nICsgdXJsICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZHRoaXM6IHJlcXVpcmUoJy4vYWRkdGhpcycpLFxuICBkaWFzcG9yYTogcmVxdWlyZSgnLi9kaWFzcG9yYScpLFxuICBmYWNlYm9vazogcmVxdWlyZSgnLi9mYWNlYm9vaycpLFxuICBmbGF0dHI6IHJlcXVpcmUoJy4vZmxhdHRyJyksXG4gIGdvb2dsZXBsdXM6IHJlcXVpcmUoJy4vZ29vZ2xlcGx1cycpLFxuICBpbmZvOiByZXF1aXJlKCcuL2luZm8nKSxcbiAgbGlua2VkaW46IHJlcXVpcmUoJy4vbGlua2VkaW4nKSxcbiAgbWFpbDogcmVxdWlyZSgnLi9tYWlsJyksXG4gIHBpbnRlcmVzdDogcmVxdWlyZSgnLi9waW50ZXJlc3QnKSxcbiAgcHJpbnQ6IHJlcXVpcmUoJy4vcHJpbnQnKSxcbiAgcXpvbmU6IHJlcXVpcmUoJy4vcXpvbmUnKSxcbiAgcmVkZGl0OiByZXF1aXJlKCcuL3JlZGRpdCcpLFxuICBzdHVtYmxldXBvbjogcmVxdWlyZSgnLi9zdHVtYmxldXBvbicpLFxuICB0ZW5jZW50OiByZXF1aXJlKCcuL3RlbmNlbnQtd2VpYm8nKSxcbiAgdGhyZWVtYTogcmVxdWlyZSgnLi90aHJlZW1hJyksXG4gIHR1bWJscjogcmVxdWlyZSgnLi90dW1ibHInKSxcbiAgdHdpdHRlcjogcmVxdWlyZSgnLi90d2l0dGVyJyksXG4gIHdlaWJvOiByZXF1aXJlKCcuL3dlaWJvJyksXG4gIHdoYXRzYXBwOiByZXF1aXJlKCcuL3doYXRzYXBwJyksXG4gIHhpbmc6IHJlcXVpcmUoJy4veGluZycpXG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHJldHVybiB7XG4gICAgYmxhbms6IHRydWUsXG4gICAgcG9wdXA6IGZhbHNlLFxuICAgIHNoYXJlVGV4dDogJ0luZm8nLFxuICAgIG5hbWU6ICdpbmZvJyxcbiAgICBmYU5hbWU6ICdmYS1pbmZvJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2RlJzogJ3dlaXRlcmUgSW5mb3JtYXRpb25lbicsXG4gICAgICAnZW4nOiAnbW9yZSBpbmZvcm1hdGlvbicsXG4gICAgICAnZXMnOiAnbcOhcyBpbmZvcm1hY2lvbmVzJyxcbiAgICAgICdmcic6ICdwbHVzIGRcXCdpbmZvcm1hdGlvbnMnLFxuICAgICAgJ2l0JzogJ21hZ2dpb3JpIGluZm9ybWF6aW9uaScsXG4gICAgICAnZGEnOiAnZmxlcmUgb3BseXNuaW5nZXInLFxuICAgICAgJ25sJzogJ3ZlcmRlcmUgaW5mb3JtYXRpZScsXG4gICAgICAnemgnOiAn5pu05aSa5L+h5oGvJ1xuICAgIH0sXG4gICAgc2hhcmVVcmw6IHNoYXJpZmYuZ2V0SW5mb1VybCgpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9IGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLmdldFVSTCgpKVxuICB2YXIgdGl0bGUgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRUaXRsZSgpKVxuICB2YXIgZGVzY3IgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRNZXRhKCdkZXNjcmlwdGlvbicpKVxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2RlJzogJ21pdHRlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZmknOiAnSmFhJyxcbiAgICAgICdmcic6ICdwYXJ0YWdlcicsXG4gICAgICAnaHInOiAncG9kaWplbGl0ZScsXG4gICAgICAnaHUnOiAnbWVnb3N6dMOhcycsXG4gICAgICAnaXQnOiAnY29uZGl2aWRpJyxcbiAgICAgICdqYSc6ICfjgrfjgqfjgqInLFxuICAgICAgJ2tvJzogJ+qzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnZGVsZW4nLFxuICAgICAgJ25vJzogJ2RlbCcsXG4gICAgICAncGwnOiAndWRvc3TEmXBuaWonLFxuICAgICAgJ3B0JzogJ2NvbXBhcnRpbGhhcicsXG4gICAgICAncm8nOiAnZGlzdHJpYnVpyJtpJyxcbiAgICAgICdydSc6ICfQv9C+0LTQtdC70LjRgtGM0YHRjycsXG4gICAgICAnc2snOiAnemRpZcS+YcWlJyxcbiAgICAgICdzbCc6ICdkZWxpJyxcbiAgICAgICdzcic6ICdwb2RlbGknLFxuICAgICAgJ3N2JzogJ2RlbGEnLFxuICAgICAgJ3RyJzogJ3BheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICdsaW5rZWRpbicsXG4gICAgZmFOYW1lOiAnZmEtbGlua2VkaW4nLFxuICAgIHRpdGxlOiB7XG4gICAgICAnYmcnOiAn0KHQv9C+0LTQtdC70Lgg0LIgTGlua2VkSW4nLFxuICAgICAgJ2RhJzogJ0RlbCBww6UgTGlua2VkSW4nLFxuICAgICAgJ2RlJzogJ0JlaSBMaW5rZWRJbiB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIExpbmtlZEluJyxcbiAgICAgICdlcyc6ICdDb21wYXJ0aXIgZW4gTGlua2VkSW4nLFxuICAgICAgJ2ZpJzogJ0phYSBMaW5rZWRJbmlzc8OkJyxcbiAgICAgICdmcic6ICdQYXJ0YWdlciBzdXIgTGlua2VkSW4nLFxuICAgICAgJ2hyJzogJ1BvZGlqZWxpdGUgbmEgTGlua2VkSW4nLFxuICAgICAgJ2h1JzogJ01lZ29zenTDoXMgTGlua2VkSW5lbicsXG4gICAgICAnaXQnOiAnQ29uZGl2aWRpIHN1IExpbmtlZEluJyxcbiAgICAgICdqYSc6ICdMaW5rZWRJbuS4iuOBp+WFseaciScsXG4gICAgICAna28nOiAnTGlua2VkSW7sl5DshJwg6rO17Jyg7ZWY6riwJyxcbiAgICAgICdubCc6ICdEZWxlbiBvcCBMaW5rZWRJbicsXG4gICAgICAnbm8nOiAnRGVsIHDDpSBMaW5rZWRJbicsXG4gICAgICAncGwnOiAnVWRvc3TEmXBuaWogcHJ6ZXogTGlua2VkSW4nLFxuICAgICAgJ3B0JzogJ0NvbXBhcnRpbGhhciBubyBMaW5rZWRJbicsXG4gICAgICAncm8nOiAnUGFydGFqZWF6xIMgcGUgTGlua2VkSW4nLFxuICAgICAgJ3J1JzogJ9Cf0L7QtNC10LvQuNGC0YzRgdGPINC90LAgTGlua2VkSW4nLFxuICAgICAgJ3NrJzogJ1pkaWXEvmHFpSBuYSBMaW5rZWRJbicsXG4gICAgICAnc2wnOiAnRGVsaSBuYSBMaW5rZWRJbicsXG4gICAgICAnc3InOiAnUG9kZWxpIG5hIExpbmtlZEluLXUnLFxuICAgICAgJ3N2JzogJ0RlbGEgcMOlIExpbmtlZEluJyxcbiAgICAgICd0cic6ICdMaW5rZWRJblxcJ3RhIHBheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WcqExpbmtlZElu5LiK5YiG5LqrJ1xuICAgIH0sXG4gICAgc2hhcmVVcmw6ICdodHRwczovL3d3dy5saW5rZWRpbi5jb20vc2hhcmVBcnRpY2xlP21pbmk9dHJ1ZSZzdW1tYXJ5PScgKyBkZXNjciArICcmdGl0bGU9JyArIHRpdGxlICsgJyZ1cmw9JyArIHVybFxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBzaGFyaWZmLmdldE9wdGlvbignbWFpbFVybCcpXG5cbiAgLy8gbWFpbHRvOiBsaW5rPyBBZGQgYm9keSBhbmQgc3ViamVjdC5cbiAgaWYgKHVybC5pbmRleE9mKCdtYWlsdG86JykgPT09IDApIHtcbiAgICB1cmwgKz0gJz9zdWJqZWN0PScgKyBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRPcHRpb24oJ21haWxTdWJqZWN0JykpXG4gICAgdXJsICs9ICcmYm9keT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0T3B0aW9uKCdtYWlsQm9keScpLnJlcGxhY2UoL1xce3VybFxcfS9pLCBzaGFyaWZmLmdldFVSTCgpKSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmxhbms6IHVybC5pbmRleE9mKCdodHRwJykgPT09IDAsXG4gICAgcG9wdXA6IGZhbHNlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2VuJzogJ21haWwnLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICdtYWlsJyxcbiAgICBmYU5hbWU6ICdmYS1lbnZlbG9wZScsXG4gICAgdGl0bGU6IHtcbiAgICAgICdiZyc6ICfQmNC30L/RgNCw0YLQuCDQv9C+INC40LzQtdC50LsnLFxuICAgICAgJ2RhJzogJ1NlbmRlIHZpYSBlLW1haWwnLFxuICAgICAgJ2RlJzogJ1BlciBFLU1haWwgdmVyc2VuZGVuJyxcbiAgICAgICdlbic6ICdTZW5kIGJ5IGVtYWlsJyxcbiAgICAgICdlcyc6ICdFbnZpYXIgcG9yIGVtYWlsJyxcbiAgICAgICdmaSc6ICdMw6RoZXTDpCBzw6Roa8O2cG9zdGl0c2UnLFxuICAgICAgJ2ZyJzogJ0Vudm95ZXIgcGFyIGNvdXJyaWVsJyxcbiAgICAgICdocic6ICdQb8WhYWxqaXRlIGVtYWlsb20nLFxuICAgICAgJ2h1JzogJ0Vsa8O8bGTDqXMgZS1tYWlsYmVuJyxcbiAgICAgICdpdCc6ICdJbnZpYXJlIHZpYSBlbWFpbCcsXG4gICAgICAnamEnOiAn6Zu75a2Q44Oh44O844Or44Gn6YCB5L+hJyxcbiAgICAgICdrbyc6ICfsnbTrqZTsnbzroZwg67O064K06riwJyxcbiAgICAgICdubCc6ICdTdHVyZW4gdmlhIGUtbWFpbCcsXG4gICAgICAnbm8nOiAnU2VuZCB2aWEgZXBvc3QnLFxuICAgICAgJ3BsJzogJ1d5xZtsaWogZS1tYWlsZW0nLFxuICAgICAgJ3B0JzogJ0VudmlhciBwb3IgZS1tYWlsJyxcbiAgICAgICdybyc6ICdUcmltaXRlIHByaW4gZS1tYWlsJyxcbiAgICAgICdydSc6ICfQntGC0L/RgNCw0LLQuNGC0Ywg0L/QviDRjdC7LiDQv9C+0YfRgtC1JyxcbiAgICAgICdzayc6ICdQb3NsYcWlIGUtbWFpbG9tJyxcbiAgICAgICdzbCc6ICdQb8WhbGppIHBvIGVsZWt0cm9uc2tpIHBvxaF0aScsXG4gICAgICAnc3InOiAnUG/FoWFsamkgcHV0ZW0gZW1haWwtYScsXG4gICAgICAnc3YnOiAnU2tpY2thIHZpYSBlLXBvc3QnLFxuICAgICAgJ3RyJzogJ0UtcG9zdGEgaWxlIGfDtm5kZXInLFxuICAgICAgJ3poJzogJ+mAmui/h+eUteWtkOmCruS7tuS8oOmAgSdcbiAgICB9LFxuICAgIHNoYXJlVXJsOiB1cmxcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHRpdGxlID0gc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpIHx8IHNoYXJpZmYuZ2V0VGl0bGUoKVxuICB2YXIgY3JlYXRvciA9IHNoYXJpZmYuZ2V0TWV0YSgnREMuY3JlYXRvcicpXG4gIGlmIChjcmVhdG9yLmxlbmd0aCA+IDApIHtcbiAgICB0aXRsZSArPSAnIC0gJyArIGNyZWF0b3JcbiAgfVxuICB2YXIgaW1nID0gc2hhcmlmZi5nZXRPcHRpb24oJ21lZGlhVXJsJylcbiAgaWYgKCFpbWcgfHwgaW1nLmxlbmd0aCA8PSAwKSB7XG4gICAgaW1nID0gc2hhcmlmZi5nZXRNZXRhKCdvZzppbWFnZScpXG4gIH1cblxuICB2YXIgc2hhcmVVcmwgPSB1cmwucGFyc2UoJ2h0dHBzOi8vd3d3LnBpbnRlcmVzdC5jb20vcGluL2NyZWF0ZS9saW5rLycsIHRydWUpXG4gIHNoYXJlVXJsLnF1ZXJ5LnVybCA9IHNoYXJpZmYuZ2V0VVJMKClcbiAgc2hhcmVVcmwucXVlcnkubWVkaWEgPSBpbWdcbiAgc2hhcmVVcmwucXVlcnkuZGVzY3JpcHRpb24gPSB0aXRsZVxuICBkZWxldGUgc2hhcmVVcmwuc2VhcmNoXG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6ICdwaW4gaXQnLFxuICAgIG5hbWU6ICdwaW50ZXJlc3QnLFxuICAgIGZhTmFtZTogJ2ZhLXBpbnRlcmVzdC1wJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2RlJzogJ0JlaSBQaW50ZXJlc3QgcGlubmVuJyxcbiAgICAgICdlbic6ICdQaW4gaXQgb24gUGludGVyZXN0JyxcbiAgICAgICdlcyc6ICdDb21wYXJ0aXIgZW4gUGludGVyZXN0JyxcbiAgICAgICdmcic6ICdQYXJ0YWdlciBzdXIgUGludGVyZXN0JyxcbiAgICAgICdpdCc6ICdDb25kaXZpZGkgc3UgUGludGVyZXN0JyxcbiAgICAgICdkYSc6ICdEZWwgcMOlIFBpbnRlcmVzdCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgUGludGVyZXN0JyxcbiAgICAgICd6aCc6ICfliIbkuqvoh7NQaW50ZXJlc3QnXG4gICAgfSxcbiAgICBzaGFyZVVybDogdXJsLmZvcm1hdChzaGFyZVVybCkgKyBzaGFyaWZmLmdldFJlZmVycmVyVHJhY2soKVxuICB9XG59XG4iLCIvKiBqc2hpbnQgc2NyaXB0dXJsOnRydWUgKi9cbid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9ICdqYXZhc2NyaXB0OndpbmRvdy5wcmludCgpOydcblxuICByZXR1cm4ge1xuICAgIG5hbWU6ICdwcmludCcsXG4gICAgZmFOYW1lOiAnZmEtcHJpbnQnLFxuICAgIHBvcHVwOiBmYWxzZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdiZyc6ICcnLFxuICAgICAgJ2RhJzogJycsXG4gICAgICAnZGUnOiAnZHJ1Y2tlbicsXG4gICAgICAnZW4nOiAncHJpbnQnLFxuICAgICAgJ2VzJzogJycsXG4gICAgICAnZmknOiAnJyxcbiAgICAgICdmcic6ICcnLFxuICAgICAgJ2hyJzogJycsXG4gICAgICAnaHUnOiAnJyxcbiAgICAgICdpdCc6ICcnLFxuICAgICAgJ2phJzogJycsXG4gICAgICAna28nOiAnJyxcbiAgICAgICdubCc6ICcnLFxuICAgICAgJ25vJzogJycsXG4gICAgICAncGwnOiAnJyxcbiAgICAgICdwdCc6ICcnLFxuICAgICAgJ3JvJzogJycsXG4gICAgICAncnUnOiAnJyxcbiAgICAgICdzayc6ICcnLFxuICAgICAgJ3NsJzogJycsXG4gICAgICAnc3InOiAnJyxcbiAgICAgICdzdic6ICcnLFxuICAgICAgJ3RyJzogJycsXG4gICAgICAnemgnOiAnJ1xuICAgIH0sXG4gICAgdGl0bGU6IHtcbiAgICAgICdiZyc6ICcnLFxuICAgICAgJ2RhJzogJycsXG4gICAgICAnZGUnOiAnZHJ1Y2tlbicsXG4gICAgICAnZW4nOiAncHJpbnQnLFxuICAgICAgJ2VzJzogJycsXG4gICAgICAnZmknOiAnJyxcbiAgICAgICdmcic6ICcnLFxuICAgICAgJ2hyJzogJycsXG4gICAgICAnaHUnOiAnJyxcbiAgICAgICdpdCc6ICcnLFxuICAgICAgJ2phJzogJycsXG4gICAgICAna28nOiAnJyxcbiAgICAgICdubCc6ICcnLFxuICAgICAgJ25vJzogJycsXG4gICAgICAncGwnOiAnJyxcbiAgICAgICdwdCc6ICcnLFxuICAgICAgJ3JvJzogJycsXG4gICAgICAncnUnOiAnJyxcbiAgICAgICdzayc6ICcnLFxuICAgICAgJ3NsJzogJycsXG4gICAgICAnc3InOiAnJyxcbiAgICAgICdzdic6ICcnLFxuICAgICAgJ3RyJzogJycsXG4gICAgICAnemgnOiAnJ1xuICAgIH0sXG4gICAgc2hhcmVVcmw6IHVybFxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRVUkwoKSlcblxuICB2YXIgdGl0bGUgPSBzaGFyaWZmLmdldE1ldGEoJ0RDLnRpdGxlJylcbiAgdmFyIGNyZWF0b3IgPSBzaGFyaWZmLmdldE1ldGEoJ0RDLmNyZWF0b3InKVxuXG4gIGlmICh0aXRsZS5sZW5ndGggPiAwICYmIGNyZWF0b3IubGVuZ3RoID4gMCkge1xuICAgIHRpdGxlICs9ICcgLSAnICsgY3JlYXRvclxuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gc2hhcmlmZi5nZXRUaXRsZSgpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2JnJzogJ2PQv9C+0LTQtdC70Y/QvdC1JyxcbiAgICAgICdkYSc6ICdkZWwnLFxuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZmknOiAnSmFhJyxcbiAgICAgICdmcic6ICdwYXJ0YWdlcicsXG4gICAgICAnaHInOiAncG9kaWplbGl0ZScsXG4gICAgICAnaHUnOiAnbWVnb3N6dMOhcycsXG4gICAgICAnaXQnOiAnY29uZGl2aWRpJyxcbiAgICAgICdqYSc6ICflhbHmnIknLFxuICAgICAgJ2tvJzogJ+qzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnZGVsZW4nLFxuICAgICAgJ25vJzogJ2RlbCcsXG4gICAgICAncGwnOiAndWRvc3TEmXBuaWonLFxuICAgICAgJ3B0JzogJ2NvbXBhcnRpbGhhcicsXG4gICAgICAncm8nOiAncGFydGFqZWF6xIMnLFxuICAgICAgJ3J1JzogJ9C/0L7QtNC10LvQuNGC0YzRgdGPJyxcbiAgICAgICdzayc6ICd6ZGllxL5hxaUnLFxuICAgICAgJ3NsJzogJ2RlbGknLFxuICAgICAgJ3NyJzogJ3BvZGVsaScsXG4gICAgICAnc3YnOiAnZGVsYScsXG4gICAgICAndHInOiAncGF5bGHFnycsXG4gICAgICAnemgnOiAn5YiG5LqrJ1xuICAgIH0sXG4gICAgbmFtZTogJ3F6b25lJyxcbiAgICBmYU5hbWU6ICdmYS1xcScsXG4gICAgdGl0bGU6IHtcbiAgICAgICdkZSc6ICdCZWkgUXpvbmUgdGVpbGVuJyxcbiAgICAgICdlbic6ICdTaGFyZSBvbiBRem9uZScsXG4gICAgICAnemgnOiAn5YiG5Lqr6IezUVHnqbrpl7QnXG4gICAgfSxcbiAgICBzaGFyZVVybDogJ2h0dHA6Ly9zbnMucXpvbmUucXEuY29tL2NnaS1iaW4vcXpzaGFyZS9jZ2lfcXpzaGFyZV9vbmVrZXk/dXJsPScgKyB1cmwgKyAnJnRpdGxlPScgKyB0aXRsZSArIHNoYXJpZmYuZ2V0UmVmZXJyZXJUcmFjaygpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9IGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLmdldFVSTCgpKVxuICB2YXIgdGl0bGUgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRUaXRsZSgpKVxuXG4gIGlmICh0aXRsZSAhPT0gJycpIHtcbiAgICB0aXRsZSA9ICcmdGl0bGU9JyArIHRpdGxlXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ3poJzogJ+WIhuS6qycsXG4gICAgfSxcbiAgICBuYW1lOiAncmVkZGl0JyxcbiAgICBmYU5hbWU6ICdmYS1yZWRkaXQnLFxuICAgIHRpdGxlOiB7XG4gICAgICAnZGUnOiAnQmVpIFJlZGRpdCB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIFJlZGRpdCcsXG4gICAgICAnemgnOiAn5YiG5Lqr6IezUmVkZGl0J1xuICAgIH0sXG4gICAgc2hhcmVVcmw6ICdodHRwczovL3JlZGRpdC5jb20vc3VibWl0P3VybD0nICsgdXJsICsgdGl0bGUgKyBzaGFyaWZmLmdldFJlZmVycmVyVHJhY2soKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRVUkwoKSlcbiAgdmFyIHRpdGxlID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0VGl0bGUoKSlcblxuICBpZiAodGl0bGUgIT09ICcnKSB7XG4gICAgdGl0bGUgPSAnJnRpdGxlPScgKyB0aXRsZVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICd6aCc6ICfliIbkuqsnXG4gICAgfSxcbiAgICBuYW1lOiAnc3R1bWJsZXVwb24nLFxuICAgIGZhTmFtZTogJ2ZhLXN0dW1ibGV1cG9uJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2RlJzogJ0JlaSBTdHVtYmxldXBvbiB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIFN0dW1ibGV1cG9uJyxcbiAgICAgICd6aCc6ICfliIbkuqvoh7NTdHVtYmxldXBvbidcbiAgICB9LFxuICAgIHNoYXJlVXJsOiAnaHR0cHM6Ly93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9JyArIHVybCArIHRpdGxlICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2hhcmlmZikge1xuICB2YXIgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0VVJMKCkpXG5cbiAgdmFyIHRpdGxlID0gc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpXG4gIHZhciBjcmVhdG9yID0gc2hhcmlmZi5nZXRNZXRhKCdEQy5jcmVhdG9yJylcblxuICBpZiAodGl0bGUubGVuZ3RoID4gMCAmJiBjcmVhdG9yLmxlbmd0aCA+IDApIHtcbiAgICB0aXRsZSArPSAnIC0gJyArIGNyZWF0b3JcbiAgfSBlbHNlIHtcbiAgICB0aXRsZSA9IHNoYXJpZmYuZ2V0VGl0bGUoKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdiZyc6ICdj0L/QvtC00LXQu9GP0L3QtScsXG4gICAgICAnZGEnOiAnZGVsJyxcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICdlcyc6ICdjb21wYXJ0aXInLFxuICAgICAgJ2ZpJzogJ0phYScsXG4gICAgICAnZnInOiAncGFydGFnZXInLFxuICAgICAgJ2hyJzogJ3BvZGlqZWxpdGUnLFxuICAgICAgJ2h1JzogJ21lZ29zenTDoXMnLFxuICAgICAgJ2l0JzogJ2NvbmRpdmlkaScsXG4gICAgICAnamEnOiAn5YWx5pyJJyxcbiAgICAgICdrbyc6ICfqs7XsnKDtlZjquLAnLFxuICAgICAgJ25sJzogJ2RlbGVuJyxcbiAgICAgICdubyc6ICdkZWwnLFxuICAgICAgJ3BsJzogJ3Vkb3N0xJlwbmlqJyxcbiAgICAgICdwdCc6ICdjb21wYXJ0aWxoYXInLFxuICAgICAgJ3JvJzogJ3BhcnRhamVhesSDJyxcbiAgICAgICdydSc6ICfQv9C+0LTQtdC70LjRgtGM0YHRjycsXG4gICAgICAnc2snOiAnemRpZcS+YcWlJyxcbiAgICAgICdzbCc6ICdkZWxpJyxcbiAgICAgICdzcic6ICdwb2RlbGknLFxuICAgICAgJ3N2JzogJ2RlbGEnLFxuICAgICAgJ3RyJzogJ3BheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICd0ZW5jZW50LXdlaWJvJyxcbiAgICBmYU5hbWU6ICdmYS10ZW5jZW50LXdlaWJvJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2RlJzogJ0JlaSB0ZW5jZW50IHdlaWJvIHRlaWxlbicsXG4gICAgICAnZW4nOiAnU2hhcmUgb24gdGVuY2VudCB3ZWlibycsXG4gICAgICAnemgnOiAn5YiG5Lqr6Iez6IW+6K6v5b6u5Y2aJ1xuICAgIH0sXG4gICAgc2hhcmVVcmw6ICdodHRwOi8vdi50LnFxLmNvbS9zaGFyZS9zaGFyZS5waHA/dXJsPScgKyB1cmwgKyAnJnRpdGxlPScgKyB0aXRsZSArIHNoYXJpZmYuZ2V0UmVmZXJyZXJUcmFjaygpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9IGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLmdldFVSTCgpKVxuXG4gIHZhciB0aXRsZSA9IHNoYXJpZmYuZ2V0TWV0YSgnREMudGl0bGUnKVxuICB2YXIgY3JlYXRvciA9IHNoYXJpZmYuZ2V0TWV0YSgnREMuY3JlYXRvcicpXG5cbiAgaWYgKHRpdGxlLmxlbmd0aCA+IDAgJiYgY3JlYXRvci5sZW5ndGggPiAwKSB7XG4gICAgdGl0bGUgKz0gJyAtICcgKyBjcmVhdG9yXG4gIH0gZWxzZSB7XG4gICAgdGl0bGUgPSBzaGFyaWZmLmdldFRpdGxlKClcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcG9wdXA6IGZhbHNlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2JnJzogJ2PQv9C+0LTQtdC70Y/QvdC1JyxcbiAgICAgICdkYSc6ICdkZWwnLFxuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZmknOiAnSmFhJyxcbiAgICAgICdmcic6ICdwYXJ0YWdlcicsXG4gICAgICAnaHInOiAncG9kaWplbGl0ZScsXG4gICAgICAnaHUnOiAnbWVnb3N6dMOhcycsXG4gICAgICAnaXQnOiAnY29uZGl2aWRpJyxcbiAgICAgICdqYSc6ICflhbHmnIknLFxuICAgICAgJ2tvJzogJ+qzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnZGVsZW4nLFxuICAgICAgJ25vJzogJ2RlbCcsXG4gICAgICAncGwnOiAndWRvc3TEmXBuaWonLFxuICAgICAgJ3B0JzogJ2NvbXBhcnRpbGhhcicsXG4gICAgICAncm8nOiAncGFydGFqZWF6xIMnLFxuICAgICAgJ3J1JzogJ9C/0L7QtNC10LvQuNGC0YzRgdGPJyxcbiAgICAgICdzayc6ICd6ZGllxL5hxaUnLFxuICAgICAgJ3NsJzogJ2RlbGknLFxuICAgICAgJ3NyJzogJ3BvZGVsaScsXG4gICAgICAnc3YnOiAnZGVsYScsXG4gICAgICAndHInOiAncGF5bGHFnycsXG4gICAgICAnemgnOiAn5YiG5LqrJ1xuICAgIH0sXG4gICAgbmFtZTogJ3RocmVlbWEnLFxuICAgIGZhTmFtZTogJ2ZhLWxvY2snLFxuICAgIHRpdGxlOiB7XG4gICAgICAnYmcnOiAn0KHQv9C+0LTQtdC70Lgg0LIgVGhyZWVtYScsXG4gICAgICAnZGEnOiAnRGVsIHDDpSBUaHJlZW1hJyxcbiAgICAgICdkZSc6ICdCZWkgVGhyZWVtYSB0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ1NoYXJlIG9uIFRocmVlbWEnLFxuICAgICAgJ2VzJzogJ0NvbXBhcnRpciBlbiBUaHJlZW1hJyxcbiAgICAgICdmaSc6ICdKYWEgVGhyZWVtYWlzc8OkJyxcbiAgICAgICdmcic6ICdQYXJ0YWdlciBzdXIgVGhyZWVtYScsXG4gICAgICAnaHInOiAnUG9kaWplbGl0ZSBuYSBUaHJlZW1hJyxcbiAgICAgICdodSc6ICdNZWdvc3p0w6FzIFRocmVlbWFlbicsXG4gICAgICAnaXQnOiAnQ29uZGl2aWRpIHN1IFRocmVlbWEnLFxuICAgICAgJ2phJzogJ1RocmVlbWHkuIrjgaflhbHmnIknLFxuICAgICAgJ2tvJzogJ1RocmVlbWHsl5DshJwg6rO17Jyg7ZWY6riwJyxcbiAgICAgICdubCc6ICdEZWxlbiBvcCBUaHJlZW1hJyxcbiAgICAgICdubyc6ICdEZWwgcMOlIFRocmVlbWEnLFxuICAgICAgJ3BsJzogJ1Vkb3N0xJlwbmlqIHByemV6IFRocmVlbWEnLFxuICAgICAgJ3B0JzogJ0NvbXBhcnRpbGhhciBubyBUaHJlZW1hJyxcbiAgICAgICdybyc6ICdQYXJ0YWplYXrEgyBwZSBUaHJlZW1hJyxcbiAgICAgICdydSc6ICfQn9C+0LTQtdC70LjRgtGM0YHRjyDQvdCwIFRocmVlbWEnLFxuICAgICAgJ3NrJzogJ1pkaWXEvmHFpSBuYSBUaHJlZW1hJyxcbiAgICAgICdzbCc6ICdEZWxpIG5hIFRocmVlbWEnLFxuICAgICAgJ3NyJzogJ1BvZGVsaSBuYSBUaHJlZW1hLXUnLFxuICAgICAgJ3N2JzogJ0RlbGEgcMOlIFRocmVlbWEnLFxuICAgICAgJ3RyJzogJ1RocmVlbWFcXCd0YSBwYXlsYcWfJyxcbiAgICAgICd6aCc6ICflnKhUaHJlZW1h5LiK5YiG5LqrJ1xuICAgIH0sXG4gICAgc2hhcmVVcmw6ICd0aHJlZW1hOi8vY29tcG9zZT90ZXh0PScgKyBlbmNvZGVVUklDb21wb25lbnQodGl0bGUpICsgJyUyMCcgKyB1cmwgKyBzaGFyaWZmLmdldFJlZmVycmVyVHJhY2soKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzaGFyaWZmKSB7XG4gIHZhciB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQoc2hhcmlmZi5nZXRVUkwoKSlcblxuICB2YXIgdGl0bGUgPSBzaGFyaWZmLmdldE1ldGEoJ0RDLnRpdGxlJylcbiAgdmFyIGNyZWF0b3IgPSBzaGFyaWZmLmdldE1ldGEoJ0RDLmNyZWF0b3InKVxuXG4gIGlmICh0aXRsZS5sZW5ndGggPiAwICYmIGNyZWF0b3IubGVuZ3RoID4gMCkge1xuICAgIHRpdGxlICs9ICcgLSAnICsgY3JlYXRvclxuICB9IGVsc2Uge1xuICAgIHRpdGxlID0gc2hhcmlmZi5nZXRUaXRsZSgpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2JnJzogJ2PQv9C+0LTQtdC70Y/QvdC1JyxcbiAgICAgICdkYSc6ICdkZWwnLFxuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZmknOiAnSmFhJyxcbiAgICAgICdmcic6ICdwYXJ0YWdlcicsXG4gICAgICAnaHInOiAncG9kaWplbGl0ZScsXG4gICAgICAnaHUnOiAnbWVnb3N6dMOhcycsXG4gICAgICAnaXQnOiAnY29uZGl2aWRpJyxcbiAgICAgICdqYSc6ICflhbHmnIknLFxuICAgICAgJ2tvJzogJ+qzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnZGVsZW4nLFxuICAgICAgJ25vJzogJ2RlbCcsXG4gICAgICAncGwnOiAndWRvc3TEmXBuaWonLFxuICAgICAgJ3B0JzogJ2NvbXBhcnRpbGhhcicsXG4gICAgICAncm8nOiAncGFydGFqZWF6xIMnLFxuICAgICAgJ3J1JzogJ9C/0L7QtNC10LvQuNGC0YzRgdGPJyxcbiAgICAgICdzayc6ICd6ZGllxL5hxaUnLFxuICAgICAgJ3NsJzogJ2RlbGknLFxuICAgICAgJ3NyJzogJ3BvZGVsaScsXG4gICAgICAnc3YnOiAnZGVsYScsXG4gICAgICAndHInOiAncGF5bGHFnycsXG4gICAgICAnemgnOiAn5YiG5LqrJ1xuICAgIH0sXG4gICAgbmFtZTogJ3R1bWJscicsXG4gICAgZmFOYW1lOiAnZmEtdHVtYmxyJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2JnJzogJ9Ch0L/QvtC00LXQu9C4INCyIHR1bWJscicsXG4gICAgICAnZGEnOiAnRGVsIHDDpSB0dW1ibHInLFxuICAgICAgJ2RlJzogJ0JlaSB0dW1ibHIgdGVpbGVuJyxcbiAgICAgICdlbic6ICdTaGFyZSBvbiB0dW1ibHInLFxuICAgICAgJ2VzJzogJ0NvbXBhcnRpciBlbiB0dW1ibHInLFxuICAgICAgJ2ZpJzogJ0phYSB0dW1ibHJpc3PDpCcsXG4gICAgICAnZnInOiAnUGFydGFnZXIgc3VyIHR1bWJscicsXG4gICAgICAnaHInOiAnUG9kaWplbGl0ZSBuYSB0dW1ibHInLFxuICAgICAgJ2h1JzogJ01lZ29zenTDoXMgdHVtYmxyZW4nLFxuICAgICAgJ2l0JzogJ0NvbmRpdmlkaSBzdSB0dW1ibHInLFxuICAgICAgJ2phJzogJ3R1bWJscuS4iuOBp+WFseaciScsXG4gICAgICAna28nOiAndHVtYmxy7JeQ7IScIOqzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgdHVtYmxyJyxcbiAgICAgICdubyc6ICdEZWwgcMOlIHR1bWJscicsXG4gICAgICAncGwnOiAnVWRvc3TEmXBuaWogcHJ6ZXogdHVtYmxyJyxcbiAgICAgICdwdCc6ICdDb21wYXJ0aWxoYXIgbm8gdHVtYmxyJyxcbiAgICAgICdybyc6ICdQYXJ0YWplYXrEgyBwZSB0dW1ibHInLFxuICAgICAgJ3J1JzogJ9Cf0L7QtNC10LvQuNGC0YzRgdGPINC90LAgdHVtYmxyJyxcbiAgICAgICdzayc6ICdaZGllxL5hxaUgbmEgdHVtYmxyJyxcbiAgICAgICdzbCc6ICdEZWxpIG5hIHR1bWJscicsXG4gICAgICAnc3InOiAnUG9kZWxpIG5hIHR1bWJsci11JyxcbiAgICAgICdzdic6ICdEZWxhIHDDpSB0dW1ibHInLFxuICAgICAgJ3RyJzogJ3R1bWJsclxcJ3RhIHBheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WcqHR1bWJscuS4iuWIhuS6qydcbiAgICB9LFxuICAgIHNoYXJlVXJsOiAnaHR0cDovL3R1bWJsci5jb20vd2lkZ2V0cy9zaGFyZS90b29sP2Nhbm9uaWNhbFVybD0nICsgdXJsICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB1cmwgPSByZXF1aXJlKCd1cmwnKVxuXG4vLyBhYmJyZXZpYXRlIGF0IGxhc3QgYmxhbmsgYmVmb3JlIGxlbmd0aCBhbmQgYWRkIFwiXFx1MjAyNlwiIChob3Jpem9udGFsIGVsbGlwc2lzKVxudmFyIGFiYnJldmlhdGVUZXh0ID0gZnVuY3Rpb24odGV4dCwgbGVuZ3RoKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBkaXYuaW5uZXJIVE1MID0gdGV4dFxuICB2YXIgYWJicmV2aWF0ZWQgPSBkaXYudGV4dENvbnRlbnRcbiAgaWYgKGFiYnJldmlhdGVkLmxlbmd0aCA8PSBsZW5ndGgpIHtcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgdmFyIGxhc3RXaGl0ZXNwYWNlSW5kZXggPSBhYmJyZXZpYXRlZC5zdWJzdHJpbmcoMCwgbGVuZ3RoIC0gMSkubGFzdEluZGV4T2YoJyAnKVxuICBhYmJyZXZpYXRlZCA9IGFiYnJldmlhdGVkLnN1YnN0cmluZygwLCBsYXN0V2hpdGVzcGFjZUluZGV4KSArICdcXHUyMDI2J1xuXG4gIHJldHVybiBhYmJyZXZpYXRlZFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHNoYXJlVXJsID0gdXJsLnBhcnNlKCdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldCcsIHRydWUpXG5cbiAgdmFyIHRpdGxlID0gc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpXG4gIHZhciBjcmVhdG9yID0gc2hhcmlmZi5nZXRNZXRhKCdEQy5jcmVhdG9yJylcblxuICBpZiAodGl0bGUubGVuZ3RoID4gMCAmJiBjcmVhdG9yLmxlbmd0aCA+IDApIHtcbiAgICB0aXRsZSArPSAnIC0gJyArIGNyZWF0b3JcbiAgfSBlbHNlIHtcbiAgICB0aXRsZSA9IHNoYXJpZmYuZ2V0VGl0bGUoKVxuICB9XG5cbiAgLy8gMTIwIGlzIHRoZSBtYXggY2hhcmFjdGVyIGNvdW50IGxlZnQgYWZ0ZXIgdHdpdHRlcnMgYXV0b21hdGljIHVybCBzaG9ydGVuaW5nIHdpdGggdC5jb1xuICBzaGFyZVVybC5xdWVyeS50ZXh0ID0gYWJicmV2aWF0ZVRleHQodGl0bGUsIDEyMClcbiAgc2hhcmVVcmwucXVlcnkudXJsID0gc2hhcmlmZi5nZXRVUkwoKVxuICBpZiAoc2hhcmlmZi5vcHRpb25zLnR3aXR0ZXJWaWEgIT09IG51bGwpIHtcbiAgICBzaGFyZVVybC5xdWVyeS52aWEgPSBzaGFyaWZmLm9wdGlvbnMudHdpdHRlclZpYVxuICB9XG4gIGRlbGV0ZSBzaGFyZVVybC5zZWFyY2hcblxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2VuJzogJ3R3ZWV0JyxcbiAgICAgICd6aCc6ICfliIbkuqsnXG4gICAgfSxcbiAgICBuYW1lOiAndHdpdHRlcicsXG4gICAgZmFOYW1lOiAnZmEtdHdpdHRlcicsXG4gICAgdGl0bGU6IHtcbiAgICAgICdiZyc6ICfQodC/0L7QtNC10LvQuCDQsiBUd2l0dGVyJyxcbiAgICAgICdkYSc6ICdEZWwgcMOlIFR3aXR0ZXInLFxuICAgICAgJ2RlJzogJ0JlaSBUd2l0dGVyIHRlaWxlbicsXG4gICAgICAnZW4nOiAnU2hhcmUgb24gVHdpdHRlcicsXG4gICAgICAnZXMnOiAnQ29tcGFydGlyIGVuIFR3aXR0ZXInLFxuICAgICAgJ2ZpJzogJ0phYSBUd2l0dGVyaXNzw6QnLFxuICAgICAgJ2ZyJzogJ1BhcnRhZ2VyIHN1ciBUd2l0dGVyJyxcbiAgICAgICdocic6ICdQb2RpamVsaXRlIG5hIFR3aXR0ZXJ1JyxcbiAgICAgICdodSc6ICdNZWdvc3p0w6FzIFR3aXR0ZXJlbicsXG4gICAgICAnaXQnOiAnQ29uZGl2aWRpIHN1IFR3aXR0ZXInLFxuICAgICAgJ2phJzogJ+ODhOOCpOODg+OCv+ODvOS4iuOBp+WFseaciScsXG4gICAgICAna28nOiAn7Yq47JyE7YSw7JeQ7IScIOqzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgVHdpdHRlcicsXG4gICAgICAnbm8nOiAnRGVsIHDDpSBUd2l0dGVyJyxcbiAgICAgICdwbCc6ICdVZG9zdMSZcG5paiBuYSBUd2l0dGVyemUnLFxuICAgICAgJ3B0JzogJ0NvbXBhcnRpbGhhciBubyBUd2l0dGVyJyxcbiAgICAgICdybyc6ICdQYXJ0YWplYXrEgyBwZSBUd2l0dGVyJyxcbiAgICAgICdydSc6ICfQn9C+0LTQtdC70LjRgtGM0YHRjyDQvdCwIFR3aXR0ZXInLFxuICAgICAgJ3NrJzogJ1pkaWXEvmHFpSBuYSBUd2l0dGVyaScsXG4gICAgICAnc2wnOiAnRGVsaSBuYSBUd2l0dGVyanUnLFxuICAgICAgJ3NyJzogJ1BvZGVsaSBuYSBUd2l0dGVyLXUnLFxuICAgICAgJ3N2JzogJ0RlbGEgcMOlIFR3aXR0ZXInLFxuICAgICAgJ3RyJzogJ1R3aXR0ZXJcXCdkYSBwYXlsYcWfJyxcbiAgICAgICd6aCc6ICflnKhUd2l0dGVy5LiK5YiG5LqrJ1xuICAgIH0sXG4gICAgLy8gc2hhcmVVcmw6ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PScrIHNoYXJpZmYuZ2V0U2hhcmVUZXh0KCkgKyAnJnVybD0nICsgdXJsXG4gICAgc2hhcmVVcmw6IHVybC5mb3JtYXQoc2hhcmVVcmwpICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2hhcmlmZikge1xuICB2YXIgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0VVJMKCkpXG5cbiAgdmFyIHRpdGxlID0gc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpXG4gIHZhciBjcmVhdG9yID0gc2hhcmlmZi5nZXRNZXRhKCdEQy5jcmVhdG9yJylcblxuICBpZiAodGl0bGUubGVuZ3RoID4gMCAmJiBjcmVhdG9yLmxlbmd0aCA+IDApIHtcbiAgICB0aXRsZSArPSAnIC0gJyArIGNyZWF0b3JcbiAgfSBlbHNlIHtcbiAgICB0aXRsZSA9IHNoYXJpZmYuZ2V0VGl0bGUoKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogdHJ1ZSxcbiAgICBzaGFyZVRleHQ6IHtcbiAgICAgICdiZyc6ICdj0L/QvtC00LXQu9GP0L3QtScsXG4gICAgICAnZGEnOiAnZGVsJyxcbiAgICAgICdkZSc6ICd0ZWlsZW4nLFxuICAgICAgJ2VuJzogJ3NoYXJlJyxcbiAgICAgICdlcyc6ICdjb21wYXJ0aXInLFxuICAgICAgJ2ZpJzogJ0phYScsXG4gICAgICAnZnInOiAncGFydGFnZXInLFxuICAgICAgJ2hyJzogJ3BvZGlqZWxpdGUnLFxuICAgICAgJ2h1JzogJ21lZ29zenTDoXMnLFxuICAgICAgJ2l0JzogJ2NvbmRpdmlkaScsXG4gICAgICAnamEnOiAn5YWx5pyJJyxcbiAgICAgICdrbyc6ICfqs7XsnKDtlZjquLAnLFxuICAgICAgJ25sJzogJ2RlbGVuJyxcbiAgICAgICdubyc6ICdkZWwnLFxuICAgICAgJ3BsJzogJ3Vkb3N0xJlwbmlqJyxcbiAgICAgICdwdCc6ICdjb21wYXJ0aWxoYXInLFxuICAgICAgJ3JvJzogJ3BhcnRhamVhesSDJyxcbiAgICAgICdydSc6ICfQv9C+0LTQtdC70LjRgtGM0YHRjycsXG4gICAgICAnc2snOiAnemRpZcS+YcWlJyxcbiAgICAgICdzbCc6ICdkZWxpJyxcbiAgICAgICdzcic6ICdwb2RlbGknLFxuICAgICAgJ3N2JzogJ2RlbGEnLFxuICAgICAgJ3RyJzogJ3BheWxhxZ8nLFxuICAgICAgJ3poJzogJ+WIhuS6qydcbiAgICB9LFxuICAgIG5hbWU6ICd3ZWlibycsXG4gICAgZmFOYW1lOiAnZmEtd2VpYm8nLFxuICAgIHRpdGxlOiB7XG4gICAgICAnZGUnOiAnQmVpIHdlaWJvIHRlaWxlbicsXG4gICAgICAnZW4nOiAnU2hhcmUgb24gd2VpYm8nLFxuICAgICAgJ3poJzogJ+WIhuS6q+iHs+aWsOa1quW+ruWNmidcbiAgICB9LFxuICAgIHNoYXJlVXJsOiAnaHR0cDovL3NlcnZpY2Uud2VpYm8uY29tL3NoYXJlL3NoYXJlLnBocD91cmw9JyArIHVybCArICcmdGl0bGU9JyArIHRpdGxlICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2hhcmlmZikge1xuICB2YXIgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJpZmYuZ2V0VVJMKCkpXG5cbiAgdmFyIHRpdGxlID0gc2hhcmlmZi5nZXRNZXRhKCdEQy50aXRsZScpXG4gIHZhciBjcmVhdG9yID0gc2hhcmlmZi5nZXRNZXRhKCdEQy5jcmVhdG9yJylcblxuICBpZiAodGl0bGUubGVuZ3RoID4gMCAmJiBjcmVhdG9yLmxlbmd0aCA+IDApIHtcbiAgICB0aXRsZSArPSAnIC0gJyArIGNyZWF0b3JcbiAgfSBlbHNlIHtcbiAgICB0aXRsZSA9IHNoYXJpZmYuZ2V0VGl0bGUoKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwb3B1cDogZmFsc2UsXG4gICAgc2hhcmVUZXh0OiB7XG4gICAgICAnYmcnOiAnY9C/0L7QtNC10LvRj9C90LUnLFxuICAgICAgJ2RhJzogJ2RlbCcsXG4gICAgICAnZGUnOiAndGVpbGVuJyxcbiAgICAgICdlbic6ICdzaGFyZScsXG4gICAgICAnZXMnOiAnY29tcGFydGlyJyxcbiAgICAgICdmaSc6ICdKYWEnLFxuICAgICAgJ2ZyJzogJ3BhcnRhZ2VyJyxcbiAgICAgICdocic6ICdwb2RpamVsaXRlJyxcbiAgICAgICdodSc6ICdtZWdvc3p0w6FzJyxcbiAgICAgICdpdCc6ICdjb25kaXZpZGknLFxuICAgICAgJ2phJzogJ+WFseaciScsXG4gICAgICAna28nOiAn6rO17Jyg7ZWY6riwJyxcbiAgICAgICdubCc6ICdkZWxlbicsXG4gICAgICAnbm8nOiAnZGVsJyxcbiAgICAgICdwbCc6ICd1ZG9zdMSZcG5paicsXG4gICAgICAncHQnOiAnY29tcGFydGlsaGFyJyxcbiAgICAgICdybyc6ICdwYXJ0YWplYXrEgycsXG4gICAgICAncnUnOiAn0L/QvtC00LXQu9C40YLRjNGB0Y8nLFxuICAgICAgJ3NrJzogJ3pkaWXEvmHFpScsXG4gICAgICAnc2wnOiAnZGVsaScsXG4gICAgICAnc3InOiAncG9kZWxpJyxcbiAgICAgICdzdic6ICdkZWxhJyxcbiAgICAgICd0cic6ICdwYXlsYcWfJyxcbiAgICAgICd6aCc6ICfliIbkuqsnXG4gICAgfSxcbiAgICBuYW1lOiAnd2hhdHNhcHAnLFxuICAgIGZhTmFtZTogJ2ZhLXdoYXRzYXBwJyxcbiAgICB0aXRsZToge1xuICAgICAgJ2JnJzogJ9Ch0L/QvtC00LXQu9C4INCyIFdoYXRzYXBwJyxcbiAgICAgICdkYSc6ICdEZWwgcMOlIFdoYXRzYXBwJyxcbiAgICAgICdkZSc6ICdCZWkgV2hhdHNhcHAgdGVpbGVuJyxcbiAgICAgICdlbic6ICdTaGFyZSBvbiBXaGF0c2FwcCcsXG4gICAgICAnZXMnOiAnQ29tcGFydGlyIGVuIFdoYXRzYXBwJyxcbiAgICAgICdmaSc6ICdKYWEgV2hhdHNBcHBpc3PDpCcsXG4gICAgICAnZnInOiAnUGFydGFnZXIgc3VyIFdoYXRzYXBwJyxcbiAgICAgICdocic6ICdQb2RpamVsaXRlIG5hIFdoYXRzYXBwJyxcbiAgICAgICdodSc6ICdNZWdvc3p0w6FzIFdoYXRzQXBwZW4nLFxuICAgICAgJ2l0JzogJ0NvbmRpdmlkaSBzdSBXaGF0c2FwcCcsXG4gICAgICAnamEnOiAnV2hhdHNhcHDkuIrjgaflhbHmnIknLFxuICAgICAgJ2tvJzogJ1doYXRzYXBw7JeQ7IScIOqzteycoO2VmOq4sCcsXG4gICAgICAnbmwnOiAnRGVsZW4gb3AgV2hhdHNhcHAnLFxuICAgICAgJ25vJzogJ0RlbCBww6UgV2hhdHNhcHAnLFxuICAgICAgJ3BsJzogJ1Vkb3N0xJlwbmlqIHByemV6IFdoYXRzQXBwJyxcbiAgICAgICdwdCc6ICdDb21wYXJ0aWxoYXIgbm8gV2hhdHNhcHAnLFxuICAgICAgJ3JvJzogJ1BhcnRhamVhesSDIHBlIFdoYXRzYXBwJyxcbiAgICAgICdydSc6ICfQn9C+0LTQtdC70LjRgtGM0YHRjyDQvdCwIFdoYXRzYXBwJyxcbiAgICAgICdzayc6ICdaZGllxL5hxaUgbmEgV2hhdHNhcHAnLFxuICAgICAgJ3NsJzogJ0RlbGkgbmEgV2hhdHNhcHAnLFxuICAgICAgJ3NyJzogJ1BvZGVsaSBuYSBXaGF0c0FwcC11JyxcbiAgICAgICdzdic6ICdEZWxhIHDDpSBXaGF0c2FwcCcsXG4gICAgICAndHInOiAnV2hhdHNhcHBcXCd0YSBwYXlsYcWfJyxcbiAgICAgICd6aCc6ICflnKhXaGF0c2FwcOS4iuWIhuS6qydcbiAgICB9LFxuICAgIHNoYXJlVXJsOiAnd2hhdHNhcHA6Ly9zZW5kP3RleHQ9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aXRsZSkgKyAnJTIwJyArIHVybCArIHNoYXJpZmYuZ2V0UmVmZXJyZXJUcmFjaygpXG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNoYXJpZmYpIHtcbiAgdmFyIHVybCA9IGVuY29kZVVSSUNvbXBvbmVudChzaGFyaWZmLmdldFVSTCgpKVxuICByZXR1cm4ge1xuICAgIHBvcHVwOiB0cnVlLFxuICAgIHNoYXJlVGV4dDoge1xuICAgICAgJ2RlJzogJ3RlaWxlbicsXG4gICAgICAnZW4nOiAnc2hhcmUnLFxuICAgICAgJ2VzJzogJ2NvbXBhcnRpcicsXG4gICAgICAnZnInOiAncGFydGFnZXInLFxuICAgICAgJ2l0JzogJ2NvbmRpdmlkaScsXG4gICAgICAnZGEnOiAnZGVsJyxcbiAgICAgICdubCc6ICdkZWxlbicsXG4gICAgICAnemgnOiAn5YiG5LqrJ1xuICAgIH0sXG4gICAgbmFtZTogJ3hpbmcnLFxuICAgIGZhTmFtZTogJ2ZhLXhpbmcnLFxuICAgIHRpdGxlOiB7XG4gICAgICAnZGUnOiAnQmVpIFhJTkcgdGVpbGVuJyxcbiAgICAgICdlbic6ICdTaGFyZSBvbiBYSU5HJyxcbiAgICAgICdlcyc6ICdDb21wYXJ0aXIgZW4gWElORycsXG4gICAgICAnZnInOiAnUGFydGFnZXIgc3VyIFhJTkcnLFxuICAgICAgJ2l0JzogJ0NvbmRpdmlkaSBzdSBYSU5HJyxcbiAgICAgICdkYSc6ICdEZWwgcMOlIFhJTkcnLFxuICAgICAgJ25sJzogJ0RlbGVuIG9wIFhJTkcnLFxuICAgICAgJ3poJzogJ+WIhuS6q+iHs1hJTkcnXG4gICAgfSxcbiAgICBzaGFyZVVybDogJ2h0dHBzOi8vd3d3LnhpbmcuY29tL3NvY2lhbF9wbHVnaW5zL3NoYXJlP3VybD0nICsgdXJsICsgc2hhcmlmZi5nZXRSZWZlcnJlclRyYWNrKClcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vIHJlcXVpcmUoJ2JhYmVsLXBvbHlmaWxsJylcblxuY29uc3QgJCA9IHJlcXVpcmUoJy4vZG9tJylcbmNvbnN0IHNlcnZpY2VzID0gcmVxdWlyZSgnLi9zZXJ2aWNlcycpXG5jb25zdCB1cmwgPSByZXF1aXJlKCd1cmwnKVxuXG4vLyBEZWZhdWx0cyBtYXkgYmUgb3ZlcnJpZGRlbiBlaXRoZXIgYnkgcGFzc2luZyBcIm9wdGlvbnNcIiB0byBTaGFyaWZmIGNvbnN0cnVjdG9yXG4vLyBvciBieSBzZXR0aW5nIGRhdGEgYXR0cmlidXRlcy5cbmNvbnN0IERlZmF1bHRzID0ge1xuICB0aGVtZTogJ2NvbG9yJyxcblxuICAvLyBVUkwgdG8gYmFja2VuZCB0aGF0IHJlcXVlc3RzIHNvY2lhbCBjb3VudHMuIG51bGwgbWVhbnMgXCJkaXNhYmxlZFwiXG4gIGJhY2tlbmRVcmw6IG51bGwsXG5cbiAgLy8gTGluayB0byB0aGUgXCJhYm91dFwiIHBhZ2VcbiAgaW5mb1VybDogJ2h0dHA6Ly9jdC5kZS8tMjQ2NzUxNCcsXG5cbiAgLy8gbG9jYWxpc2F0aW9uOiBcImRlXCIgb3IgXCJlblwiXG4gIGxhbmc6ICdkZScsXG5cbiAgLy8gZmFsbGJhY2sgbGFuZ3VhZ2UgZm9yIG5vdCBmdWxseSBsb2NhbGl6ZWQgc2VydmljZXNcbiAgbGFuZ0ZhbGxiYWNrOiAnZW4nLFxuXG4gIG1haWxVcmw6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzaGFyZVVybCA9IHVybC5wYXJzZSh0aGlzLmdldFVSTCgpLCB0cnVlKVxuICAgIHNoYXJlVXJsLnF1ZXJ5LnZpZXcgPSAnbWFpbCdcbiAgICBkZWxldGUgc2hhcmVVcmwuc2VhcmNoXG4gICAgcmV0dXJuIHVybC5mb3JtYXQoc2hhcmVVcmwpXG4gIH0sXG5cbiAgbWFpbFN1YmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmdldE1ldGEoJ0RDLnRpdGxlJykgfHwgdGhpcy5nZXRUaXRsZSgpXG4gIH0sXG5cbiAgbWFpbEJvZHk6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5nZXRVUkwoKSB9LFxuXG4gIC8vIE1lZGlhIChlLmcuIGltYWdlKSBVUkwgdG8gYmUgc2hhcmVkXG4gIG1lZGlhVXJsOiBudWxsLFxuXG4gIC8vIGhvcml6b250YWwvdmVydGljYWxcbiAgb3JpZW50YXRpb246ICdob3Jpem9udGFsJyxcblxuICAvLyBhIHN0cmluZyB0byBzdWZmaXggY3VycmVudCBVUkxcbiAgcmVmZXJyZXJUcmFjazogbnVsbCxcblxuICAvLyBzZXJ2aWNlcyB0byBiZSBlbmFibGVkIGluIHRoZSBmb2xsb3dpbmcgb3JkZXJcbiAgc2VydmljZXM6IFsndHdpdHRlcicsICdmYWNlYm9vaycsICdnb29nbGVwbHVzJywgJ2luZm8nXSxcblxuICB0aXRsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoJ2hlYWQgdGl0bGUnKS50ZXh0KClcbiAgfSxcblxuICB0d2l0dGVyVmlhOiBudWxsLFxuXG4gIGZsYXR0clVzZXI6IG51bGwsXG5cbiAgZmxhdHRyQ2F0ZWdvcnk6IG51bGwsXG5cbiAgLy8gYnVpbGQgVVJJIGZyb20gcmVsPVwiY2Fub25pY2FsXCIgb3IgZG9jdW1lbnQubG9jYXRpb25cbiAgdXJsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdXJsID0gZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhyZWZcbiAgICB2YXIgY2Fub25pY2FsID0gJCgnbGlua1tyZWw9Y2Fub25pY2FsXScpLmF0dHIoJ2hyZWYnKSB8fCB0aGlzLmdldE1ldGEoJ29nOnVybCcpIHx8ICcnXG5cbiAgICBpZiAoY2Fub25pY2FsLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjYW5vbmljYWwuaW5kZXhPZignaHR0cCcpIDwgMCkge1xuICAgICAgICBjYW5vbmljYWwgPSBnbG9iYWwuZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgZ2xvYmFsLmRvY3VtZW50LmxvY2F0aW9uLmhvc3QgKyBjYW5vbmljYWxcbiAgICAgIH1cbiAgICAgIHVybCA9IGNhbm9uaWNhbFxuICAgIH1cblxuICAgIHJldHVybiB1cmxcbiAgfVxufVxuXG5jbGFzcyBTaGFyaWZmIHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIC8vIHRoZSBET00gZWxlbWVudCB0aGF0IHdpbGwgY29udGFpbiB0aGUgYnV0dG9uc1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcblxuICAgIC8vIEVuc3VyZSBlbGVtbnQgaXMgZW1wdHlcbiAgICAkKGVsZW1lbnQpLmVtcHR5KClcblxuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBEZWZhdWx0cywgb3B0aW9ucywgJChlbGVtZW50KS5kYXRhKCkpXG5cbiAgICAvLyBmaWx0ZXIgYXZhaWxhYmxlIHNlcnZpY2VzIHRvIHRob3NlIHRoYXQgYXJlIGVuYWJsZWQgYW5kIGluaXRpYWxpemUgdGhlbVxuICAgIHRoaXMuc2VydmljZXMgPSBPYmplY3Qua2V5cyhzZXJ2aWNlcylcbiAgICAgIC5maWx0ZXIoc2VydmljZSA9PiB0aGlzLmlzRW5hYmxlZFNlcnZpY2Uoc2VydmljZSkpXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBsZXQgc2VydmljZXMgPSB0aGlzLm9wdGlvbnMuc2VydmljZXNcbiAgICAgICAgcmV0dXJuIHNlcnZpY2VzLmluZGV4T2YoYSkgLSBzZXJ2aWNlcy5pbmRleE9mKGIpXG4gICAgICB9KVxuICAgICAgLm1hcChzZXJ2aWNlTmFtZSA9PiBzZXJ2aWNlc1tzZXJ2aWNlTmFtZV0odGhpcykpXG5cbiAgICB0aGlzLl9hZGRCdXR0b25MaXN0KClcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2VuZFVybCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5nZXRTaGFyZXModGhpcy5fdXBkYXRlQ291bnRzLmJpbmQodGhpcykpXG4gICAgfVxuICB9XG5cbiAgaXNFbmFibGVkU2VydmljZShzZXJ2aWNlTmFtZSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc2VydmljZXMuaW5kZXhPZihzZXJ2aWNlTmFtZSkgPiAtMVxuICB9XG5cbiAgJHNvY2lhbHNoYXJlRWxlbWVudCgpIHtcbiAgICByZXR1cm4gJCh0aGlzLmVsZW1lbnQpXG4gIH1cblxuICBnZXRMb2NhbGl6ZWQoZGF0YSwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiBkYXRhW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodHlwZW9mIGRhdGFba2V5XVt0aGlzLm9wdGlvbnMubGFuZ10gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBkYXRhW2tleV1bdGhpcy5vcHRpb25zLmxhbmdGYWxsYmFja11cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXRhW2tleV1bdGhpcy5vcHRpb25zLmxhbmddXG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YVtrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGRhdGFba2V5XVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cblxuICAvLyByZXR1cm5zIGNvbnRlbnQgb2YgPG1ldGEgbmFtZT1cIlwiIGNvbnRlbnQ9XCJcIj4gdGFncyBvciAnJyBpZiBlbXB0eS9ub24gZXhpc3RhbnRcbiAgZ2V0TWV0YShuYW1lKSB7XG4gICAgdmFyIG1ldGFDb250ZW50ID0gJChgbWV0YVtuYW1lPVwiJHtuYW1lfVwiXSxbcHJvcGVydHk9XCIke25hbWV9XCJdYCkuYXR0cignY29udGVudCcpXG4gICAgcmV0dXJuIG1ldGFDb250ZW50IHx8ICcnXG4gIH1cblxuICBnZXRJbmZvVXJsKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaW5mb1VybFxuICB9XG5cbiAgZ2V0VVJMKCkge1xuICAgIHJldHVybiB0aGlzLmdldE9wdGlvbigndXJsJylcbiAgfVxuXG4gIGdldE9wdGlvbihuYW1lKSB7XG4gICAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9uc1tuYW1lXVxuICAgIHJldHVybiAodHlwZW9mIG9wdGlvbiA9PT0gJ2Z1bmN0aW9uJykgPyBvcHRpb24uY2FsbCh0aGlzKSA6IG9wdGlvblxuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9uKCd0aXRsZScpXG4gIH1cblxuICBnZXRSZWZlcnJlclRyYWNrKCkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmVmZXJyZXJUcmFjayB8fCAnJ1xuICB9XG5cbiAgLy8gcmV0dXJucyBzaGFyZUNvdW50cyBvZiBkb2N1bWVudFxuICBnZXRTaGFyZXMoY2FsbGJhY2spIHtcbiAgICB2YXIgYmFzZVVybCA9IHVybC5wYXJzZSh0aGlzLm9wdGlvbnMuYmFja2VuZFVybCwgdHJ1ZSlcbiAgICBiYXNlVXJsLnF1ZXJ5LnVybCA9IHRoaXMuZ2V0VVJMKClcbiAgICBkZWxldGUgYmFzZVVybC5zZWFyY2hcbiAgICByZXR1cm4gJC5nZXRKU09OKHVybC5mb3JtYXQoYmFzZVVybCksIGNhbGxiYWNrKVxuICB9XG5cbiAgLy8gYWRkIHZhbHVlIG9mIHNoYXJlcyBmb3IgZWFjaCBzZXJ2aWNlXG4gIF91cGRhdGVDb3VudHMoZGF0YSwgc3RhdHVzLCB4aHIpIHtcbiAgICBpZiAoIWRhdGEpIHJldHVyblxuICAgICQuZWFjaChkYXRhLCAoc2VydmljZU5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaXNFbmFibGVkU2VydmljZShzZXJ2aWNlTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPj0gMTAwMCkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyAxMDAwKSArICdrJ1xuICAgICAgfVxuICAgICAgJCh0aGlzLmVsZW1lbnQpXG4gICAgICAgIC5maW5kKGAuJHtzZXJ2aWNlTmFtZX0gYWApXG4gICAgICAgIC5hcHBlbmQoJCgnPHNwYW4vPicpLmFkZENsYXNzKCdzaGFyZV9jb3VudCcpLnRleHQodmFsdWUpKVxuICAgIH0pXG4gIH1cblxuICAvLyBhZGQgaHRtbCBmb3IgYnV0dG9uLWNvbnRhaW5lclxuICBfYWRkQnV0dG9uTGlzdCgpIHtcbiAgICB2YXIgJGJ1dHRvbkxpc3QgPSAkKCc8dWwvPicpLmFkZENsYXNzKFtcbiAgICAgICd0aGVtZS0nICsgdGhpcy5vcHRpb25zLnRoZW1lLFxuICAgICAgJ29yaWVudGF0aW9uLScgKyB0aGlzLm9wdGlvbnMub3JpZW50YXRpb24sXG4gICAgICAnY29sLScgKyB0aGlzLm9wdGlvbnMuc2VydmljZXMubGVuZ3RoXG4gICAgXS5qb2luKCcgJykpXG5cbiAgICAvLyBhZGQgaHRtbCBmb3Igc2VydmljZS1saW5rc1xuICAgIHRoaXMuc2VydmljZXMuZm9yRWFjaChzZXJ2aWNlID0+IHtcbiAgICAgIHZhciAkbGkgPSAkKCc8bGkvPicpLmFkZENsYXNzKGBzaGFyaWZmLWJ1dHRvbiAke3NlcnZpY2UubmFtZX1gKVxuICAgICAgdmFyICRzaGFyZVRleHQgPSAkKCc8c3Bhbi8+JylcbiAgICAgICAgLmFkZENsYXNzKCdzaGFyZV90ZXh0JylcbiAgICAgICAgLnRleHQodGhpcy5nZXRMb2NhbGl6ZWQoc2VydmljZSwgJ3NoYXJlVGV4dCcpKVxuXG4gICAgICB2YXIgJHNoYXJlTGluayA9ICQoJzxhLz4nKVxuICAgICAgICAuYXR0cignaHJlZicsIHNlcnZpY2Uuc2hhcmVVcmwpXG4gICAgICAgIC5hcHBlbmQoJHNoYXJlVGV4dClcblxuICAgICAgaWYgKHR5cGVvZiBzZXJ2aWNlLmZhTmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgJHNoYXJlTGluay5wcmVwZW5kKCQoJzxzcGFuLz4nKS5hZGRDbGFzcyhgZmEgJHtzZXJ2aWNlLmZhTmFtZX1gKSlcbiAgICAgIH1cblxuICAgICAgaWYgKHNlcnZpY2UucG9wdXApIHtcbiAgICAgICAgJHNoYXJlTGluay5hdHRyKCdkYXRhLXJlbCcsICdwb3B1cCcpXG4gICAgICB9IGVsc2UgaWYgKHNlcnZpY2UuYmxhbmspIHtcbiAgICAgICAgJHNoYXJlTGluay5hdHRyKCd0YXJnZXQnLCAnX2JsYW5rJylcbiAgICAgIH1cbiAgICAgICRzaGFyZUxpbmsuYXR0cigndGl0bGUnLCB0aGlzLmdldExvY2FsaXplZChzZXJ2aWNlLCAndGl0bGUnKSlcblxuICAgICAgLy8gYWRkIGF0dHJpYnV0ZXMgZm9yIHNjcmVlbiByZWFkZXJzXG4gICAgICAkc2hhcmVMaW5rLmF0dHIoJ3JvbGUnLCAnYnV0dG9uJylcbiAgICAgICRzaGFyZUxpbmsuYXR0cignYXJpYS1sYWJlbCcsIHRoaXMuZ2V0TG9jYWxpemVkKHNlcnZpY2UsICd0aXRsZScpKVxuXG4gICAgICAkbGkuYXBwZW5kKCRzaGFyZUxpbmspXG5cbiAgICAgICRidXR0b25MaXN0LmFwcGVuZCgkbGkpXG4gICAgfSlcblxuICAgIC8vIGV2ZW50IGRlbGVnYXRpb25cbiAgICAkYnV0dG9uTGlzdC5vbignY2xpY2snLCAnW2RhdGEtcmVsPVwicG9wdXBcIl0nLCBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpXG5cbiAgICAgIC8vIGlmIGEgdHdpdHRlciB3aWRnZXQgaXMgZW1iZWRkZWQgb24gY3VycmVudCBzaXRlIHR3aXR0ZXIncyB3aWRnZXQuanNcbiAgICAgIC8vIHdpbGwgb3BlbiBhIHBvcHVwIHNvIHdlIHNob3VsZCBub3Qgb3BlbiBhIHNlY29uZCBvbmUuXG4gICAgICBpZiAodXJsLm1hdGNoKC90d2l0dGVyXFwuY29tXFwvaW50ZW50XFwvKFxcdyspLykpIHtcbiAgICAgICAgdmFyIHcgPSBnbG9iYWwud2luZG93XG4gICAgICAgIGlmICh3Ll9fdHd0dHIgJiYgdy5fX3R3dHRyLndpZGdldHMgJiYgdy5fX3R3dHRyLndpZGdldHMubG9hZGVkKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2xvYmFsLndpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycsICd3aWR0aD02MDAsaGVpZ2h0PTQ2MCcpXG4gICAgfSlcblxuICAgIHRoaXMuJHNvY2lhbHNoYXJlRWxlbWVudCgpLmFwcGVuZCgkYnV0dG9uTGlzdClcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYXJpZmZcblxuLy8gZXhwb3J0IFNoYXJpZmYgY2xhc3MgdG8gZ2xvYmFsIChmb3Igbm9uLU5vZGUgdXNlcnMpXG5nbG9iYWwuU2hhcmlmZiA9IFNoYXJpZmZcblxuJChmdW5jdGlvbigpIHtcbiAgLy8gaW5pdGlhbGl6ZSAuc2hhcmlmZiBlbGVtZW50c1xuICAkKCcuc2hhcmlmZicpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KCdzaGFyaWZmJykpIHtcbiAgICAgIHRoaXMuc2hhcmlmZiA9IG5ldyBTaGFyaWZmKHRoaXMpXG4gICAgfVxuICB9KVxufSlcbiJdfQ==
